function concatJSON(a){var b=[];for(var c in a)b=b.concat(a[c]);return b}function initInterpreterWaitForSeconds(a,b){Blockly.JavaScript.addReservedWords("waitForSeconds");var c=a.createAsyncFunction(function(a,b){setTimeout(function(){b()},1e3*a)});a.setProperty(b,"waitForSeconds",c)}function mockHybrid(a){console.info("hybrid 调用: ",a),"bluetooth"==a.action?setTimeout(function(){a.callback&&a.callback([])},5e3):"link"==a.action&&a.callback&&a.callback(1)}function paddingZW(a){var b=JSON.parse(a);return b.code="Z"+b.code+"W",JSON.stringify(b)}function sendNative(b){var c=b.callback,d="hybrid_callback_"+(new Date).getTime();"send"==b.action?(b.callback="openBlue",b.params=paddingZW(b.params)):"bluetooth"==b.action?(b.callback="hybrid_callback_bluetooth",window.hybrid_callback_bluetooth=function(a){c(a)}):(window[d]=function(a){c(a),window[d]=void 0},b.callback=d),console.log("发送给手机",b),"ios"==a?window.webkit.messageHandlers.nativeBridge.postMessage(JSON.stringify(b)):"android"==a&&window.nativeBridge.request(JSON.stringify(b))}function goback(){playMusic(),resetInterpreter(!1,function(){sendNative({action:"back",params:"{}",callback:""})})}function initApi(a,b){var c=function(b){return b=b?b.toString():"",a.createPrimitive(action(b))};a.setProperty(b,"action",a.createNativeFunction(c));var d=function(b){return b=b?b.toString():"",a.createPrimitive(setGlobal(b))};a.setProperty(b,"setGlobal",a.createNativeFunction(d));var e=function(b){return b=b?b.toString():"",a.createPrimitive(getGlobal(b))};a.setProperty(b,"getGlobal",a.createNativeFunction(e)),initInterpreterWaitForSeconds(a,b)}function resetStepUi(a){highlightPause=!1,runButton.disabled=""}function generateCodeAndLoadIntoInterpreter(){var a=Blockly.JavaScript.workspaceToCode(demoWorkspace);try{latestCode=a.split("start()")[1].replace(/\r|\n|\\s/g,"$").replace(/\{\$/g,"{").replace(/\}\$/g,"}").split("$")[0],console.log(latestCode)}catch(a){}}function resetInterpreter(a,b){myInterpreter=null,$("#playBtn").addClass("play").removeClass("pause"),runner&&(clearTimeout(runner),runner=null),b&&b.apply()}function runPrev(){if(myInterpreter)runCode();else{generateCodeAndLoadIntoInterpreter();var a=!0;machineAcode.toString().split(",").forEach(function(b){-1!=latestCode.indexOf(b)&&(a=!1)}),machineBcode.toString().split(",").forEach(function(b){-1!=latestCode.indexOf(b)&&(a=!1)}),a?runCode():safeTips.show(0)}}function runCode(){if(playMusic(),!myInterpreter)return generateCodeAndLoadIntoInterpreter(),void setTimeout(function(){highlightPause=!1,myInterpreter=new Interpreter(latestCode,initApi),(runner=function(){if(myInterpreter){myInterpreter.run()?setTimeout(runner,10):resetInterpreter()}})()},1);resetInterpreter()}!function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a)}):b(a)}(this,function(a){var b=function(){function b(a){return null==a?String(a):X[Y.call(a)]||"object"}function c(a){return"function"==b(a)}function d(a){return null!=a&&a==a.window}function e(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function f(a){return"object"==b(a)}function g(a){return f(a)&&!d(a)&&Object.getPrototypeOf(a)==Object.prototype}function h(a){var b=!!a&&"length"in a&&a.length,c=z.type(a);return"function"!=c&&!d(a)&&("array"==c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function i(a){return F.call(a,function(a){return null!=a})}function j(a){return a.length>0?z.fn.concat.apply([],a):a}function k(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(a){return a in J?J[a]:J[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function m(a,b){return"number"!=typeof b||K[k(a)]?b:b+"px"}function n(a){var b,c;return I[a]||(b=H.createElement(a),H.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),I[a]=c),I[a]}function o(a){return"children"in a?G.call(a.children):z.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function p(a,b){var c,d=a?a.length:0;for(c=0;d>c;c++)this[c]=a[c];this.length=d,this.selector=b||""}function q(a,b,c){for(y in b)c&&(g(b[y])||aa(b[y]))?(g(b[y])&&!g(a[y])&&(a[y]={}),aa(b[y])&&!aa(a[y])&&(a[y]=[]),q(a[y],b[y],c)):b[y]!==x&&(a[y]=b[y])}function r(a,b){return null==b?z(a):z(a).filter(b)}function s(a,b,d,e){return c(b)?b.call(a,d,e):b}function t(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function u(a,b){var c=a.className||"",d=c&&c.baseVal!==x;return b===x?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function v(a){try{return a?"true"==a||"false"!=a&&("null"==a?null:+a+""==a?+a:/^[\[\{]/.test(a)?z.parseJSON(a):a):a}catch(b){return a}}function w(a,b){b(a);for(var c=0,d=a.childNodes.length;d>c;c++)w(a.childNodes[c],b)}var x,y,z,A,B,C,D=[],E=D.concat,F=D.filter,G=D.slice,H=a.document,I={},J={},K={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},L=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,N=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,O=/^(?:body|html)$/i,P=/([A-Z])/g,Q=["val","css","html","text","data","width","height","offset"],R=["after","prepend","before","append"],S=H.createElement("table"),T=H.createElement("tr"),U={tr:H.createElement("tbody"),tbody:S,thead:S,tfoot:S,td:T,th:T,"*":H.createElement("div")},V=/complete|loaded|interactive/,W=/^[\w-]*$/,X={},Y=X.toString,Z={},$=H.createElement("div"),_={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},aa=Array.isArray||function(a){return a instanceof Array};return Z.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=$).appendChild(a),d=~Z.qsa(e,b).indexOf(a),f&&$.removeChild(a),d},B=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},C=function(a){return F.call(a,function(b,c){return a.indexOf(b)==c})},Z.fragment=function(a,b,c){var d,e,f;return M.test(a)&&(d=z(H.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(N,"<$1></$2>")),b===x&&(b=L.test(a)&&RegExp.$1),b in U||(b="*"),f=U[b],f.innerHTML=""+a,d=z.each(G.call(f.childNodes),function(){f.removeChild(this)})),g(c)&&(e=z(d),z.each(c,function(a,b){Q.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},Z.Z=function(a,b){return new p(a,b)},Z.isZ=function(a){return a instanceof Z.Z},Z.init=function(a,b){var d;if(!a)return Z.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&L.test(a))d=Z.fragment(a,RegExp.$1,b),a=null;else{if(b!==x)return z(b).find(a);d=Z.qsa(H,a)}else{if(c(a))return z(H).ready(a);if(Z.isZ(a))return a;if(aa(a))d=i(a);else if(f(a))d=[a],a=null;else if(L.test(a))d=Z.fragment(a.trim(),RegExp.$1,b),a=null;else{if(b!==x)return z(b).find(a);d=Z.qsa(H,a)}}return Z.Z(d,a)},z=function(a,b){return Z.init(a,b)},z.extend=function(a){var b,c=G.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){q(a,c,b)}),a},Z.qsa=function(a,b){var c,d="#"==b[0],e=!d&&"."==b[0],f=d||e?b.slice(1):b,g=W.test(f);return a.getElementById&&g&&d?(c=a.getElementById(f))?[c]:[]:1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType?[]:G.call(g&&!d&&a.getElementsByClassName?e?a.getElementsByClassName(f):a.getElementsByTagName(b):a.querySelectorAll(b))},z.contains=H.documentElement.contains?function(a,b){return a!==b&&a.contains(b)}:function(a,b){for(;b&&(b=b.parentNode);)if(b===a)return!0;return!1},z.type=b,z.isFunction=c,z.isWindow=d,z.isArray=aa,z.isPlainObject=g,z.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},z.isNumeric=function(a){var b=Number(a),c=typeof a;return null!=a&&"boolean"!=c&&("string"!=c||a.length)&&!isNaN(b)&&isFinite(b)||!1},z.inArray=function(a,b,c){return D.indexOf.call(b,a,c)},z.camelCase=B,z.trim=function(a){return null==a?"":String.prototype.trim.call(a)},z.uuid=0,z.support={},z.expr={},z.noop=function(){},z.map=function(a,b){var c,d,e,f=[];if(h(a))for(d=0;d<a.length;d++)null!=(c=b(a[d],d))&&f.push(c);else for(e in a)null!=(c=b(a[e],e))&&f.push(c);return j(f)},z.each=function(a,b){var c,d;if(h(a)){for(c=0;c<a.length;c++)if(!1===b.call(a[c],c,a[c]))return a}else for(d in a)if(!1===b.call(a[d],d,a[d]))return a;return a},z.grep=function(a,b){return F.call(a,b)},a.JSON&&(z.parseJSON=JSON.parse),z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){X["[object "+b+"]"]=b.toLowerCase()}),z.fn={constructor:Z.Z,length:0,forEach:D.forEach,reduce:D.reduce,push:D.push,sort:D.sort,splice:D.splice,indexOf:D.indexOf,concat:function(){var a,b,c=[];for(a=0;a<arguments.length;a++)b=arguments[a],c[a]=Z.isZ(b)?b.toArray():b;return E.apply(Z.isZ(this)?this.toArray():this,c)},map:function(a){return z(z.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return z(G.apply(this,arguments))},ready:function(a){return V.test(H.readyState)&&H.body?a(z):H.addEventListener("DOMContentLoaded",function(){a(z)},!1),this},get:function(a){return a===x?G.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return D.every.call(this,function(b,c){return!1!==a.call(b,c,b)}),this},filter:function(a){return c(a)?this.not(this.not(a)):z(F.call(this,function(b){return Z.matches(b,a)}))},add:function(a,b){return z(C(this.concat(z(a,b))))},is:function(a){return this.length>0&&Z.matches(this[0],a)},not:function(a){var b=[];if(c(a)&&a.call!==x)this.each(function(c){a.call(this,c)||b.push(this)});else{var d="string"==typeof a?this.filter(a):h(a)&&c(a.item)?G.call(a):z(a);this.forEach(function(a){d.indexOf(a)<0&&b.push(a)})}return z(b)},has:function(a){return this.filter(function(){return f(a)?z.contains(this,a):z(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!f(a)?a:z(a)},last:function(){var a=this[this.length-1];return a&&!f(a)?a:z(a)},find:function(a){var b=this;return a?"object"==typeof a?z(a).filter(function(){var a=this;return D.some.call(b,function(b){return z.contains(b,a)})}):1==this.length?z(Z.qsa(this[0],a)):this.map(function(){return Z.qsa(this,a)}):z()},closest:function(a,b){var c=[],d="object"==typeof a&&z(a);return this.each(function(f,g){for(;g&&!(d?d.indexOf(g)>=0:Z.matches(g,a));)g=g!==b&&!e(g)&&g.parentNode;g&&c.indexOf(g)<0&&c.push(g)}),z(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=z.map(c,function(a){return(a=a.parentNode)&&!e(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return r(b,a)},parent:function(a){return r(C(this.pluck("parentNode")),a)},children:function(a){return r(this.map(function(){return o(this)}),a)},contents:function(){return this.map(function(){return this.contentDocument||G.call(this.childNodes)})},siblings:function(a){return r(this.map(function(a,b){return F.call(o(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return z.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=n(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var b=c(a);if(this[0]&&!b)var d=z(a).get(0),e=d.parentNode||this.length>1;return this.each(function(c){z(this).wrapAll(b?a.call(this,c):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){z(this[0]).before(a=z(a));for(var b;(b=a.children()).length;)a=b.first();z(a).append(this)}return this},wrapInner:function(a){var b=c(a);return this.each(function(c){var d=z(this),e=d.contents(),f=b?a.call(this,c):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){z(this).replaceWith(z(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=z(this);(a===x?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return z(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return z(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(b){var c=this.innerHTML;z(this).empty().append(s(this,a,b,c))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(b){var c=s(this,a,b,this.textContent);this.textContent=null==c?"":""+c}):0 in this?this.pluck("textContent").join(""):null},attr:function(a,b){var c;return"string"!=typeof a||1 in arguments?this.each(function(c){if(1===this.nodeType)if(f(a))for(y in a)t(this,y,a[y]);else t(this,a,s(this,b,c,this.getAttribute(a)))}):0 in this&&1==this[0].nodeType&&null!=(c=this[0].getAttribute(a))?c:x},removeAttr:function(a){return this.each(function(){1===this.nodeType&&a.split(" ").forEach(function(a){t(this,a)},this)})},prop:function(a,b){return a=_[a]||a,1 in arguments?this.each(function(c){this[a]=s(this,b,c,this[a])}):this[0]&&this[0][a]},removeProp:function(a){return a=_[a]||a,this.each(function(){delete this[a]})},data:function(a,b){var c="data-"+a.replace(P,"-$1").toLowerCase(),d=1 in arguments?this.attr(c,b):this.attr(c);return null!==d?v(d):x},val:function(a){return 0 in arguments?(null==a&&(a=""),this.each(function(b){this.value=s(this,a,b,this.value)})):this[0]&&(this[0].multiple?z(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(b){if(b)return this.each(function(a){var c=z(this),d=s(this,b,a,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(!this.length)return null;if(H.documentElement!==this[0]&&!z.contains(H.documentElement,this[0]))return{top:0,left:0};var c=this[0].getBoundingClientRect();return{left:c.left+a.pageXOffset,top:c.top+a.pageYOffset,width:Math.round(c.width),height:Math.round(c.height)}},css:function(a,c){if(arguments.length<2){var d=this[0];if("string"==typeof a){if(!d)return;return d.style[B(a)]||getComputedStyle(d,"").getPropertyValue(a)}if(aa(a)){if(!d)return;var e={},f=getComputedStyle(d,"");return z.each(a,function(a,b){e[b]=d.style[B(b)]||f.getPropertyValue(b)}),e}}var g="";if("string"==b(a))c||0===c?g=k(a)+":"+m(a,c):this.each(function(){this.style.removeProperty(k(a))});else for(y in a)a[y]||0===a[y]?g+=k(y)+":"+m(y,a[y])+";":this.each(function(){this.style.removeProperty(k(y))});return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(z(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return!!a&&D.some.call(this,function(a){return this.test(u(a))},l(a))},addClass:function(a){return a?this.each(function(b){if("className"in this){A=[];var c=u(this);s(this,a,b,c).split(/\s+/g).forEach(function(a){z(this).hasClass(a)||A.push(a)},this),A.length&&u(this,c+(c?" ":"")+A.join(" "))}}):this},removeClass:function(a){return this.each(function(b){if("className"in this){if(a===x)return u(this,"");A=u(this),s(this,a,b,A).split(/\s+/g).forEach(function(a){A=A.replace(l(a)," ")}),u(this,A.trim())}})},toggleClass:function(a,b){return a?this.each(function(c){var d=z(this);s(this,a,c,u(this)).split(/\s+/g).forEach(function(a){(b===x?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===x?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===x?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=O.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(z(a).css("margin-top"))||0,c.left-=parseFloat(z(a).css("margin-left"))||0,d.top+=parseFloat(z(b[0]).css("border-top-width"))||0,d.left+=parseFloat(z(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||H.body;a&&!O.test(a.nodeName)&&"static"==z(a).css("position");)a=a.offsetParent;return a})}},z.fn.detach=z.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});z.fn[a]=function(c){var f,g=this[0];return c===x?d(g)?g["inner"+b]:e(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=z(this),g.css(a,s(this,c,b,g[a]()))})}}),R.forEach(function(c,d){var e=d%2;z.fn[c]=function(){var c,f,g=z.map(arguments,function(a){var d=[];return c=b(a),"array"==c?(a.forEach(function(a){return a.nodeType!==x?d.push(a):z.zepto.isZ(a)?d=d.concat(a.get()):void(d=d.concat(Z.fragment(a)))}),d):"object"==c||null==a?a:Z.fragment(a)}),h=this.length>1;return g.length<1?this:this.each(function(b,c){f=e?c:c.parentNode,c=0==d?c.nextSibling:1==d?c.firstChild:2==d?c:null;var i=z.contains(H.documentElement,f);g.forEach(function(b){if(h)b=b.cloneNode(!0);else if(!f)return z(b).remove();f.insertBefore(b,c),i&&w(b,function(b){if(!(null==b.nodeName||"SCRIPT"!==b.nodeName.toUpperCase()||b.type&&"text/javascript"!==b.type||b.src)){var c=b.ownerDocument?b.ownerDocument.defaultView:a;c.eval.call(c,b.innerHTML)}})})})},z.fn[e?c+"To":"insert"+(d?"Before":"After")]=function(a){return z(a)[c](this),this}}),Z.Z.prototype=p.prototype=z.fn,Z.uniq=C,Z.deserializeValue=v,z.zepto=Z,z}();return a.Zepto=b,void 0===a.$&&(a.$=b),function(b){function c(a){return a._zid||(a._zid=n++)}function d(a,b,d,g){if(b=e(b),b.ns)var h=f(b.ns);return(r[c(a)]||[]).filter(function(a){return a&&(!b.e||a.e==b.e)&&(!b.ns||h.test(a.ns))&&(!d||c(a.fn)===c(d))&&(!g||a.sel==g)})}function e(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function f(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function g(a,b){return a.del&&!t&&a.e in u||!!b}function h(a){return v[a]||t&&u[a]||a}function i(a,d,f,i,j,l,n){var o=c(a),p=r[o]||(r[o]=[]);d.split(/\s/).forEach(function(c){if("ready"==c)return b(document).ready(f);var d=e(c);d.fn=f,d.sel=j,d.e in v&&(f=function(a){var c=a.relatedTarget;return!c||c!==this&&!b.contains(this,c)?d.fn.apply(this,arguments):void 0}),d.del=l;var o=l||f;d.proxy=function(b){if(b=k(b),!b.isImmediatePropagationStopped()){b.data=i;var c=o.apply(a,b._args==m?[b]:[b].concat(b._args));return!1===c&&(b.preventDefault(),b.stopPropagation()),c}},d.i=p.length,p.push(d),"addEventListener"in a&&a.addEventListener(h(d.e),d.proxy,g(d,n))})}function j(a,b,e,f,i){var j=c(a);(b||"").split(/\s/).forEach(function(b){d(a,b,e,f).forEach(function(b){delete r[j][b.i],"removeEventListener"in a&&a.removeEventListener(h(b.e),b.proxy,g(b,i))})})}function k(a,c){return(c||!a.isDefaultPrevented)&&(c||(c=a),b.each(z,function(b,d){var e=c[b];a[b]=function(){return this[d]=w,e&&e.apply(c,arguments)},a[d]=x}),a.timeStamp||(a.timeStamp=Date.now()),(c.defaultPrevented!==m?c.defaultPrevented:"returnValue"in c?!1===c.returnValue:c.getPreventDefault&&c.getPreventDefault())&&(a.isDefaultPrevented=w)),a}function l(a){var b,c={originalEvent:a};for(b in a)y.test(b)||a[b]===m||(c[b]=a[b]);return k(c,a)}var m,n=1,o=Array.prototype.slice,p=b.isFunction,q=function(a){return"string"==typeof a},r={},s={},t="onfocusin"in a,u={focus:"focusin",blur:"focusout"},v={mouseenter:"mouseover",mouseleave:"mouseout"};s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",b.event={add:i,remove:j},b.proxy=function(a,d){var e=2 in arguments&&o.call(arguments,2);if(p(a)){var f=function(){return a.apply(d,e?e.concat(o.call(arguments)):arguments)};return f._zid=c(a),f}if(q(d))return e?(e.unshift(a[d],a),b.proxy.apply(null,e)):b.proxy(a[d],a);throw new TypeError("expected function")},b.fn.bind=function(a,b,c){return this.on(a,b,c)},b.fn.unbind=function(a,b){return this.off(a,b)},b.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var w=function(){return!0},x=function(){return!1},y=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,z={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};b.fn.delegate=function(a,b,c){return this.on(b,a,c)},b.fn.undelegate=function(a,b,c){return this.off(b,a,c)},b.fn.live=function(a,c){return b(document.body).delegate(this.selector,a,c),this},b.fn.die=function(a,c){return b(document.body).undelegate(this.selector,a,c),this},b.fn.on=function(a,c,d,e,f){var g,h,k=this;return a&&!q(a)?(b.each(a,function(a,b){k.on(a,c,d,b,f)}),k):(q(c)||p(e)||!1===e||(e=d,d=c,c=m),(e===m||!1===d)&&(e=d,d=m),!1===e&&(e=x),k.each(function(k,m){f&&(g=function(a){return j(m,a.type,e),e.apply(this,arguments)}),c&&(h=function(a){var d,f=b(a.target).closest(c,m).get(0);return f&&f!==m?(d=b.extend(l(a),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(o.call(arguments,1)))):void 0}),i(m,a,e,d,c,h||g)}))},b.fn.off=function(a,c,d){var e=this;return a&&!q(a)?(b.each(a,function(a,b){e.off(a,c,b)}),e):(q(c)||p(d)||!1===d||(d=c,c=m),!1===d&&(d=x),e.each(function(){j(this,a,d,c)}))},b.fn.trigger=function(a,c){return a=q(a)||b.isPlainObject(a)?b.Event(a):k(a),a._args=c,this.each(function(){a.type in u&&"function"==typeof this[a.type]?this[a.type]():"dispatchEvent"in this?this.dispatchEvent(a):b(this).triggerHandler(a,c)})},b.fn.triggerHandler=function(a,c){var e,f;return this.each(function(g,h){e=l(q(a)?b.Event(a):a),e._args=c,e.target=h,b.each(d(h,a.type||a),function(a,b){return f=b.proxy(e),!e.isImmediatePropagationStopped()&&void 0})}),f},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(a){b.fn[a]=function(b){return 0 in arguments?this.bind(a,b):this.trigger(a)}}),b.Event=function(a,b){q(a)||(b=a,a=b.type);var c=document.createEvent(s[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),k(c)}}(b),function(b){function c(a,c,d){var e=b.Event(c);return b(a).trigger(e,d),!e.isDefaultPrevented()}function d(a,b,d,e){return a.global?c(b||u,d,e):void 0}function e(a){a.global&&0==b.active++&&d(a,null,"ajaxStart")}function f(a){a.global&&!--b.active&&d(a,null,"ajaxStop")}function g(a,b){var c=b.context;return!1!==b.beforeSend.call(c,a,b)&&!1!==d(b,c,"ajaxBeforeSend",[a,b])&&void d(b,c,"ajaxSend",[a,b])}function h(a,b,c,e){var f=c.context,g="success";c.success.call(f,a,g,b),e&&e.resolveWith(f,[a,g,b]),d(c,f,"ajaxSuccess",[b,c,a]),j(g,b,c)}function i(a,b,c,e,f){var g=e.context;e.error.call(g,c,b,a),f&&f.rejectWith(g,[c,b,a]),d(e,g,"ajaxError",[c,e,a||b]),j(b,c,e)}function j(a,b,c){var e=c.context;c.complete.call(e,b,a),d(c,e,"ajaxComplete",[b,c]),f(c)}function k(a,b,c){if(c.dataFilter==l)return a;var d=c.context;return c.dataFilter.call(d,a,b)}function l(){}function m(a){return a&&(a=a.split(";",2)[0]),a&&(a==z?"html":a==y?"json":w.test(a)?"script":x.test(a)&&"xml")||"text"}function n(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function o(a){a.processData&&a.data&&"string"!=b.type(a.data)&&(a.data=b.param(a.data,a.traditional)),!a.data||a.type&&"GET"!=a.type.toUpperCase()&&"jsonp"!=a.dataType||(a.url=n(a.url,a.data),a.data=void 0)}function p(a,c,d,e){return b.isFunction(c)&&(e=d,d=c,c=void 0),b.isFunction(d)||(e=d,d=void 0),{url:a,data:c,success:d,dataType:e}}function q(a,c,d,e){var f,g=b.isArray(c),h=b.isPlainObject(c);b.each(c,function(c,i){f=b.type(i),e&&(c=d?e:e+"["+(h||"object"==f||"array"==f?c:"")+"]"),!e&&g?a.add(i.name,i.value):"array"==f||!d&&"object"==f?q(a,i,d,c):a.add(c,i)})}var r,s,t=+new Date,u=a.document,v=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,y="application/json",z="text/html",A=/^\s*$/,B=u.createElement("a");B.href=a.location.href,b.active=0,b.ajaxJSONP=function(c,d){if(!("type"in c))return b.ajax(c);var e,f,j=c.jsonpCallback,k=(b.isFunction(j)?j():j)||"Zepto"+t++,l=u.createElement("script"),m=a[k],n=function(a){b(l).triggerHandler("error",a||"abort")},o={abort:n};return d&&d.promise(o),b(l).on("load error",function(g,j){clearTimeout(f),b(l).off().remove(),"error"!=g.type&&e?h(e[0],o,c,d):i(null,j||"error",o,c,d),a[k]=m,e&&b.isFunction(m)&&m(e[0]),m=e=void 0}),!1===g(o,c)?(n("abort"),o):(a[k]=function(){e=arguments},l.src=c.url.replace(/\?(.+)=\?/,"?$1="+k),u.head.appendChild(l),c.timeout>0&&(f=setTimeout(function(){n("timeout")},c.timeout)),o)},b.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new a.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:y,xml:"application/xml, text/xml",html:z,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:l},b.ajax=function(c){var d,f,j=b.extend({},c||{}),p=b.Deferred&&b.Deferred();for(r in b.ajaxSettings)void 0===j[r]&&(j[r]=b.ajaxSettings[r]);e(j),j.crossDomain||(d=u.createElement("a"),d.href=j.url,d.href=d.href,j.crossDomain=B.protocol+"//"+B.host!=d.protocol+"//"+d.host),j.url||(j.url=a.location.toString()),(f=j.url.indexOf("#"))>-1&&(j.url=j.url.slice(0,f)),o(j);var q=j.dataType,t=/\?.+=\?/.test(j.url);if(t&&(q="jsonp"),!1!==j.cache&&(c&&!0===c.cache||"script"!=q&&"jsonp"!=q)||(j.url=n(j.url,"_="+Date.now())),"jsonp"==q)return t||(j.url=n(j.url,j.jsonp?j.jsonp+"=?":!1===j.jsonp?"":"callback=?")),b.ajaxJSONP(j,p);var v,w=j.accepts[q],x={},y=function(a,b){x[a.toLowerCase()]=[a,b]},z=/^([\w-]+:)\/\//.test(j.url)?RegExp.$1:a.location.protocol,C=j.xhr(),D=C.setRequestHeader;if(p&&p.promise(C),j.crossDomain||y("X-Requested-With","XMLHttpRequest"),y("Accept",w||"*/*"),(w=j.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(w)),(j.contentType||!1!==j.contentType&&j.data&&"GET"!=j.type.toUpperCase())&&y("Content-Type",j.contentType||"application/x-www-form-urlencoded"),j.headers)for(s in j.headers)y(s,j.headers[s]);if(C.setRequestHeader=y,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=l,clearTimeout(v);var a,c=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==z){if(q=q||m(j.mimeType||C.getResponseHeader("content-type")),"arraybuffer"==C.responseType||"blob"==C.responseType)a=C.response;else{a=C.responseText;try{a=k(a,q,j),"script"==q?(0,eval)(a):"xml"==q?a=C.responseXML:"json"==q&&(a=A.test(a)?null:b.parseJSON(a))}catch(a){c=a}if(c)return i(c,"parsererror",C,j,p)}h(a,C,j,p)}else i(C.statusText||null,C.status?"error":"abort",C,j,p)}},!1===g(C,j))return C.abort(),i(null,"abort",C,j,p),C;var E=!("async"in j)||j.async;if(C.open(j.type,j.url,E,j.username,j.password),j.xhrFields)for(s in j.xhrFields)C[s]=j.xhrFields[s];for(s in x)D.apply(C,x[s]);return j.timeout>0&&(v=setTimeout(function(){C.onreadystatechange=l,C.abort(),i(null,"timeout",C,j,p)},j.timeout)),C.send(j.data?j.data:null),C},b.get=function(){return b.ajax(p.apply(null,arguments))},b.post=function(){var a=p.apply(null,arguments);return a.type="POST",b.ajax(a)},b.getJSON=function(){var a=p.apply(null,arguments);return a.dataType="json",b.ajax(a)},b.fn.load=function(a,c,d){if(!this.length)return this;var e,f=this,g=a.split(/\s/),h=p(a,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(a){f.html(e?b("<div>").html(a.replace(v,"")).find(e):a),i&&i.apply(f,arguments)},b.ajax(h),this};var C=encodeURIComponent;b.param=function(a,c){var d=[];return d.add=function(a,c){b.isFunction(c)&&(c=c()),null==c&&(c=""),this.push(C(a)+"="+C(c))},q(d,a,c),d.join("&").replace(/%20/g,"+")}}(b),function(a){a.fn.serializeArray=function(){var b,c,d=[],e=function(a){return a.forEach?a.forEach(e):void d.push({name:b,value:a})};return this[0]&&a.each(this[0].elements,function(d,f){c=f.type,(b=f.name)&&"fieldset"!=f.nodeName.toLowerCase()&&!f.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&"file"!=c&&("radio"!=c&&"checkbox"!=c||f.checked)&&e(a(f).val())}),d},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(0 in arguments)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}return this}}(b),function(){try{getComputedStyle(void 0)}catch(c){var b=getComputedStyle;a.getComputedStyle=function(a,c){try{return b(a,c)}catch(a){return null}}}}(),b});var mod$$inline_58=function(a){function b(a){U=a||{};for(var b in Y)Object.prototype.hasOwnProperty.call(U,b)||(U[b]=Y[b]);X=U.sourceFile||null}function c(a,b){var c=Z(V,a);b+=" ("+c.line+":"+c.column+")";var d=new SyntaxError(b);throw d.pos=a,d.loc=c,d.raisedAt=$,d}function d(a){function b(a){if(1==a.length)return c+="return str === "+JSON.stringify(a[0])+";";c+="switch(str){";for(var b=0;b<a.length;++b)c+="case "+JSON.stringify(a[b])+":";c+="return true}return false;"}a=a.split(" ");var c="",d=[],e=0;a:for(;e<a.length;++e){for(var f=0;f<d.length;++f)if(d[f][0].length==a[e].length){d[f].push(a[e]);continue a}d.push([a[e]])}if(3<d.length){for(d.sort(function(a,b){return b.length-a.length}),c+="switch(str.length){",e=0;e<d.length;++e)a=d[e],c+="case "+a[0].length+":",b(a);c+="}"}else b(a);return new Function("str",c)}function e(){this.line=ga,this.column=$-ha}function f(a,b){aa=$,U.locations&&(ca=new e),da=a,h(),ea=b,fa=a.beforeExpr}function g(){for(var a=$,b=U.onComment&&U.locations&&new e,c=V.charCodeAt($+=2);$<W&&10!==c&&13!==c&&8232!==c&&8233!==c;)++$,c=V.charCodeAt($);U.onComment&&U.onComment(!1,V.slice(a+2,$),a,$,b,U.locations&&new e)}function h(){for(;$<W;){var a=V.charCodeAt($);if(32===a)++$;else if(13===a)++$,a=V.charCodeAt($),10===a&&++$,U.locations&&(++ga,ha=$);else if(10===a||8232===a||8233===a)++$,U.locations&&(++ga,ha=$);else if(8<a&&14>a)++$;else if(47===a)if(42===(a=V.charCodeAt($+1))){var a=U.onComment&&U.locations&&new e,b=$,d=V.indexOf("*/",$+=2);if(-1===d&&c($-2,"Unterminated comment"),$=d+2,U.locations){Db.lastIndex=b;for(var f=void 0;(f=Db.exec(V))&&f.index<$;)++ga,ha=f.index+f[0].length}U.onComment&&U.onComment(!0,V.slice(b+2,d),b,$,a,U.locations&&new e)}else{if(47!==a)break;g()}else if(160===a)++$;else{if(!(5760<=a&&zb.test(String.fromCharCode(a))))break;++$}}}function i(a){switch(a){case 46:return a=V.charCodeAt($+1),48<=a&&57>=a?a=n(!0):(++$,a=f(bb)),a;case 40:return++$,f(Ya);case 41:return++$,f(Za);case 59:return++$,f(_a);case 44:return++$,f($a);case 91:return++$,f(Ua);case 93:return++$,f(Va);case 123:return++$,f(Wa);case 125:return++$,f(Xa);case 58:return++$,f(ab);case 63:return++$,f(cb);case 48:if(120===(a=V.charCodeAt($+1))||88===a)return $+=2,a=m(16),null==a&&c(_+2,"Expected hexadecimal number"),Eb(V.charCodeAt($))&&c($,"Identifier directly after number"),a=f(pa,a);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n(!1);case 34:case 39:a:{$++;for(var b="";;){$>=W&&c(_,"Unterminated string constant");var d=V.charCodeAt($);if(d===a){++$,a=f(ra,b);break a}if(92===d){var d=V.charCodeAt(++$),e=/^[0-7]+/.exec(V.slice($,$+3));for(e&&(e=e[0]);e&&255<parseInt(e,8);)e=e.slice(0,-1);if("0"===e&&(e=null),++$,e)na&&c($-2,"Octal literal in strict mode"),b+=String.fromCharCode(parseInt(e,8)),$+=e.length-1;else switch(d){case 110:b+="\n";break;case 114:b+="\r";break;case 120:b+=String.fromCharCode(o(2));break;case 117:b+=String.fromCharCode(o(4));break;case 85:b+=String.fromCharCode(o(8));break
;case 116:b+="\t";break;case 98:b+="\b";break;case 118:b+="\v";break;case 102:b+="\f";break;case 48:b+="\0";break;case 13:10===V.charCodeAt($)&&++$;case 10:U.locations&&(ha=$,++ga);break;default:b+=String.fromCharCode(d)}}else 13!==d&&10!==d&&8232!==d&&8233!==d||c(_,"Unterminated string constant"),b+=String.fromCharCode(d),++$}}return a;case 47:return a=V.charCodeAt($+1),fa?(++$,a=l()):a=61===a?k(fb,2):k(db,1),a;case 37:case 42:return a=V.charCodeAt($+1),a=61===a?k(fb,2):k(rb,1);case 124:case 38:return b=V.charCodeAt($+1),a=b===a?k(124===a?ib:jb,2):61===b?k(fb,2):k(124===a?kb:mb,1);case 94:return a=V.charCodeAt($+1),a=61===a?k(fb,2):k(lb,1);case 43:case 45:return b=V.charCodeAt($+1),b===a?45==b&&62==V.charCodeAt($+2)&&Cb.test(V.slice(ja,$))?($+=3,g(),h(),a=j()):a=k(gb,2):a=61===b?k(fb,2):k(qb,1),a;case 60:case 62:return b=V.charCodeAt($+1),d=1,b===a?(d=62===a&&62===V.charCodeAt($+2)?3:2,a=61===V.charCodeAt($+d)?k(fb,d+1):k(pb,d)):33==b&&60==a&&45==V.charCodeAt($+2)&&45==V.charCodeAt($+3)?($+=4,g(),h(),a=j()):(61===b&&(d=61===V.charCodeAt($+2)?3:2),a=k(ob,d)),a;case 61:case 33:return b=V.charCodeAt($+1),a=61===b?k(nb,61===V.charCodeAt($+2)?3:2):k(61===a?eb:hb,1);case 126:return k(hb,1)}return!1}function j(a){if(a?$=_+1:_=$,U.locations&&(ba=new e),a)return l();if($>=W)return f(ta);var b=V.charCodeAt($);if(Eb(b)||92===b)return q();if(!1===(a=i(b))){if("\\"===(b=String.fromCharCode(b))||Ab.test(b))return q();c($,"Unexpected character '"+b+"'")}return a}function k(a,b){var c=V.slice($,$+b);$+=b,f(a,c)}function l(){for(var a,b,d=$;;){$>=W&&c(d,"Unterminated regular expression");var e=V.charAt($);if(Cb.test(e)&&c(d,"Unterminated regular expression"),a)a=!1;else{if("["===e)b=!0;else if("]"===e&&b)b=!1;else if("/"===e&&!b)break;a="\\"===e}++$}return a=V.slice(d,$),++$,(b=p())&&!/^[gmsiy]*$/.test(b)&&c(d,"Invalid regexp flag"),f(qa,new RegExp(a,b))}function m(a,b){for(var c=$,d=0,e=0,f=null==b?1/0:b;e<f;++e){var g=V.charCodeAt($),g=97<=g?g-97+10:65<=g?g-65+10:48<=g&&57>=g?g-48:1/0;if(g>=a)break;++$,d=d*a+g}return $===c||null!=b&&$-c!==b?null:d}function n(a){var b=$,d=!1,e=48===V.charCodeAt($);a||null!==m(10)||c(b,"Invalid number"),46===V.charCodeAt($)&&(++$,m(10),d=!0),a=V.charCodeAt($),69!==a&&101!==a||(a=V.charCodeAt(++$),43!==a&&45!==a||++$,null===m(10)&&c(b,"Invalid number"),d=!0),Eb(V.charCodeAt($))&&c($,"Identifier directly after number"),a=V.slice(b,$);var g;return d?g=parseFloat(a):e&&1!==a.length?/[89]/.test(a)||na?c(b,"Invalid number"):g=parseInt(a,8):g=parseInt(a,10),f(pa,g)}function o(a){return a=m(16,a),null===a&&c(_,"Bad character escape sequence"),a}function p(){tb=!1;for(var a,b=!0,d=$;;){var e=V.charCodeAt($);if(Fb(e))tb&&(a+=V.charAt($)),++$;else{if(92!==e)break;tb||(a=V.slice(d,$)),tb=!0,117!=V.charCodeAt(++$)&&c($,"Expecting Unicode escape sequence \\uXXXX"),++$;var e=o(4),f=String.fromCharCode(e);f||c($-1,"Invalid Unicode escape"),(b?Eb(e):Fb(e))||c($-4,"Invalid Unicode escape"),a+=f}b=!1}return tb?a:V.slice(d,$)}function q(){var a=p(),b=sa;return tb||(yb(a)?b=Ta[a]:(U.forbidReserved&&(3===U.ecmaVersion?ub:vb)(a)||na&&wb(a))&&c(_,"The keyword '"+a+"' is reserved")),f(b,a)}function r(){ia=_,ja=aa,ka=ca,j()}function s(a){if(na=a,$=ja,U.locations)for(;$<ha;)ha=V.lastIndexOf("\n",ha-2)+1,--ga;h(),j()}function t(){this.type=null,this.start=_,this.end=null}function u(){this.start=ba,this.end=null,null!==X&&(this.source=X)}function v(){var a=new t;return U.locations&&(a.loc=new u),U.directSourceFile&&(a.sourceFile=U.directSourceFile),U.ranges&&(a.range=[_,0]),a}function w(a){var b=new t;return b.start=a.start,U.locations&&(b.loc=new u,b.loc.start=a.loc.start),U.ranges&&(b.range=[a.range[0],0]),b}function x(a,b){return a.type=b,a.end=ja,U.locations&&(a.loc.end=ka),U.ranges&&(a.range[1]=ja),a}function y(a){return 5<=U.ecmaVersion&&"ExpressionStatement"===a.type&&"Literal"===a.expression.type&&"use strict"===a.expression.value}function z(a){if(da===a)return r(),!0}function A(){return!U.strictSemicolons&&(da===ta||da===Xa||Cb.test(V.slice(ja,_)))}function B(){z(_a)||A()||D()}function C(a){da===a?r():D()}function D(){c(_,"Unexpected token")}function E(a){"Identifier"!==a.type&&"MemberExpression"!==a.type&&c(a.start,"Assigning to rvalue"),na&&"Identifier"===a.type&&xb(a.name)&&c(a.start,"Assigning to "+a.name+" in strict mode")}function F(){(da===db||da===fb&&"/="==ea)&&j(!0);var a=da,b=v();switch(a){case ua:case xa:r();var d=a===ua;z(_a)||A()?b.label=null:da!==sa?D():(b.label=T(),B());for(var e=0;e<ma.length;++e){var f=ma[e];if(null==b.label||f.name===b.label.name){if(null!=f.kind&&(d||"loop"===f.kind))break;if(b.label&&d)break}}return e===ma.length&&c(b.start,"Unsyntactic "+a.keyword),x(b,d?"BreakStatement":"ContinueStatement");case ya:return r(),B(),x(b,"DebuggerStatement");case Aa:return r(),ma.push(Gb),b.body=F(),ma.pop(),C(La),b.test=G(),B(),x(b,"DoWhileStatement");case Da:return r(),(ma.push(Gb),C(Ya),da===_a)?I(b,null):da===Ka?(a=v(),r(),K(a,!0),x(a,"VariableDeclaration"),1===a.declarations.length&&z(Sa)?J(b,a):I(b,a)):(a=L(!1,!0),z(Sa)?(E(a),J(b,a)):I(b,a));case Ea:return r(),R(b,!0);case Fa:return r(),b.test=G(),b.consequent=F(),b.alternate=z(Ba)?F():null,x(b,"IfStatement");case Ga:return la||c(_,"'return' outside of function"),r(),z(_a)||A()?b.argument=null:(b.argument=L(),B()),x(b,"ReturnStatement");case Ha:for(r(),b.discriminant=G(),b.cases=[],C(Wa),ma.push(Hb);da!=Xa;)da===va||da===za?(a=da===va,e&&x(e,"SwitchCase"),b.cases.push(e=v()),e.consequent=[],r(),a?e.test=L():(d&&c(ia,"Multiple default clauses"),d=!0,e.test=null),C(ab)):(e||D(),e.consequent.push(F()));return e&&x(e,"SwitchCase"),r(),ma.pop(),x(b,"SwitchStatement");case Ia:return r(),Cb.test(V.slice(ja,_))&&c(ja,"Illegal newline after throw"),b.argument=L(),B(),x(b,"ThrowStatement");case Ja:return r(),b.block=H(),b.handler=null,da===wa&&(a=v(),r(),C(Ya),a.param=T(),na&&xb(a.param.name)&&c(a.param.start,"Binding "+a.param.name+" in strict mode"),C(Za),a.guard=null,a.body=H(),b.handler=x(a,"CatchClause")),b.guardedHandlers=oa,b.finalizer=z(Ca)?H():null,b.handler||b.finalizer||c(b.start,"Missing catch or finally clause"),x(b,"TryStatement");case Ka:return r(),K(b),B(),x(b,"VariableDeclaration");case La:return r(),b.test=G(),ma.push(Gb),b.body=F(),ma.pop(),x(b,"WhileStatement");case Ma:return na&&c(_,"'with' in strict mode"),r(),b.object=G(),b.body=F(),x(b,"WithStatement");case Wa:return H();case _a:return r(),x(b,"EmptyStatement");default:if(d=ea,f=L(),a===sa&&"Identifier"===f.type&&z(ab)){for(e=0;e<ma.length;++e)ma[e].name===d&&c(f.start,"Label '"+d+"' is already declared");return a=da.isLoop?"loop":da===Ha?"switch":null,ma.push({name:d,kind:a}),b.body=F(),ma.pop(),b.label=f,x(b,"LabeledStatement")}return b.expression=f,B(),x(b,"ExpressionStatement")}}function G(){C(Ya);var a=L();return C(Za),a}function H(a){var b,c=v(),d=!0,e=!1;for(c.body=[],C(Wa);!z(Xa);){var f=F();c.body.push(f),d&&a&&y(f)&&(b=e,s(e=!0)),d=!1}return e&&!b&&s(!1),x(c,"BlockStatement")}function I(a,b){return a.init=b,C(_a),a.test=da===_a?null:L(),C(_a),a.update=da===Za?null:L(),C(Za),a.body=F(),ma.pop(),x(a,"ForStatement")}function J(a,b){return a.left=b,a.right=L(),C(Za),a.body=F(),ma.pop(),x(a,"ForInStatement")}function K(a,b){for(a.declarations=[],a.kind="var";;){var d=v();if(d.id=T(),na&&xb(d.id.name)&&c(d.id.start,"Binding "+d.id.name+" in strict mode"),d.init=z(eb)?L(!0,b):null,a.declarations.push(x(d,"VariableDeclarator")),!z($a))break}return a}function L(a,b){var c=M(b);if(!a&&da===$a){var d=w(c);for(d.expressions=[c];z($a);)d.expressions.push(M(b));return x(d,"SequenceExpression")}return c}function M(a){var b;b=a;var c;if(c=b,c=N(O(),-1,c),z(cb)){var d=w(c);d.test=c,d.consequent=L(!0),C(ab),d.alternate=L(!0,b),b=x(d,"ConditionalExpression")}else b=c;return da.isAssign?(c=w(b),c.operator=ea,c.left=b,r(),c.right=M(a),E(b),x(c,"AssignmentExpression")):b}function N(a,b,c){var d=da.binop;if(null!=d&&(!c||da!==Sa)&&d>b){var e=w(a);return e.left=a,e.operator=ea,a=da,r(),e.right=N(O(),d,c),d=x(e,a===ib||a===jb?"LogicalExpression":"BinaryExpression"),N(d,b,c)}return a}function O(){if(da.prefix){var a=v(),b=da.isUpdate;return a.operator=ea,fa=a.prefix=!0,r(),a.argument=O(),b?E(a.argument):na&&"delete"===a.operator&&"Identifier"===a.argument.type&&c(a.start,"Deleting local variable in strict mode"),x(a,b?"UpdateExpression":"UnaryExpression")}for(b=P(Q());da.postfix&&!A();)a=w(b),a.operator=ea,a.prefix=!1,a.argument=b,E(b),r(),b=x(a,"UpdateExpression");return b}function P(a,b){if(z(bb)){var c=w(a);return c.object=a,c.property=T(!0),c.computed=!1,P(x(c,"MemberExpression"),b)}return z(Ua)?(c=w(a),c.object=a,c.property=L(),c.computed=!0,C(Va),P(x(c,"MemberExpression"),b)):!b&&z(Ya)?(c=w(a),c.callee=a,c.arguments=S(Za,!1),P(x(c,"CallExpression"),b)):a}function Q(){switch(da){case Oa:var a=v();return r(),x(a,"ThisExpression");case sa:return T();case pa:case ra:case qa:return a=v(),a.value=ea,a.raw=V.slice(_,aa),r(),x(a,"Literal");case Pa:case Qa:case Ra:return a=v(),a.value=da.atomValue,a.raw=da.keyword,r(),x(a,"Literal");case Ya:var a=ba,b=_;r();var d=L();return d.start=b,d.end=aa,U.locations&&(d.loc.start=a,d.loc.end=ca),U.ranges&&(d.range=[b,aa]),C(Za),d;case Ua:return a=v(),r(),a.elements=S(Va,!0,!0),x(a,"ArrayExpression");case Wa:for(a=v(),b=!0,d=!1,a.properties=[],r();!z(Xa);){if(b)b=!1;else if(C($a),U.allowTrailingCommas&&z(Xa))break;var e,f={key:da===pa||da===ra?Q():T(!0)},g=!1;if(z(ab)?(f.value=L(!0),e=f.kind="init"):5<=U.ecmaVersion&&"Identifier"===f.key.type&&("get"===f.key.name||"set"===f.key.name)?(g=d=!0,e=f.kind=f.key.name,f.key=da===pa||da===ra?Q():T(!0),da!==Ya&&D(),f.value=R(v(),!1)):D(),"Identifier"===f.key.type&&(na||d))for(var h=0;h<a.properties.length;++h){var i=a.properties[h];if(i.key.name===f.key.name){var j=e==i.kind||g&&"init"===i.kind||"init"===e&&("get"===i.kind||"set"===i.kind);j&&!na&&"init"===e&&"init"===i.kind&&(j=!1),j&&c(f.key.start,"Redefinition of property")}}a.properties.push(f)}return a=x(a,"ObjectExpression");case Ea:return a=v(),r(),R(a,!1);case Na:return a=v(),r(),a.callee=P(Q(),!0),z(Ya)?a.arguments=S(Za,!1):a.arguments=oa,a=x(a,"NewExpression");default:D()}}function R(a,b){da===sa?a.id=T():b?D():a.id=null,a.params=[];var d=!0;for(C(Ya);!z(Za);)d?d=!1:C($a),a.params.push(T());var d=la,e=ma;if(la=!0,ma=[],a.body=H(!0),la=d,ma=e,na||a.body.body.length&&y(a.body.body[0]))for(d=a.id?-1:0;d<a.params.length;++d)if(e=0>d?a.id:a.params[d],(wb(e.name)||xb(e.name))&&c(e.start,"Defining '"+e.name+"' in strict mode"),0<=d)for(var f=0;f<d;++f)e.name===a.params[f].name&&c(e.start,"Argument name clash in strict mode");return x(a,b?"FunctionDeclaration":"FunctionExpression")}function S(a,b,c){for(var d=[],e=!0;!z(a);){if(e)e=!1;else if(C($a),b&&U.allowTrailingCommas&&z(a))break;c&&da===$a?d.push(null):d.push(L(!0))}return d}function T(a){var b=v();return b.name=da===sa?ea:a&&!U.forbidReserved&&da.keyword||D(),fa=!1,r(),x(b,"Identifier")}a.version="0.4.1";var U,V,W,X;a.parse=function(a,c){V=String(a),W=V.length,b(c),ga=1,$=ha=0,fa=!0,h();var d,f=U.program;ia=ja=$,U.locations&&(ka=new e),la=na=null,ma=[],j(),d=f||v();var g=!0;for(f||(d.body=[]);da!==ta;)f=F(),d.body.push(f),g&&y(f)&&s(!0),g=!1;return d=x(d,"Program")};var Y=a.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},Z=a.getLineInfo=function(a,b){for(var c=1,d=0;;){Db.lastIndex=d;var e=Db.exec(a);if(!(e&&e.index<b))break;++c,d=e.index+e[0].length}return{line:c,column:b-d}};a.tokenize=function(a,c){function d(a){return j(a),e.start=_,e.end=aa,e.startLoc=ba,e.endLoc=ca,e.type=da,e.value=ea,e}V=String(a),W=V.length,b(c),ga=1,$=ha=0,fa=!0,h();var e={};return d.jumpTo=function(a,b){if($=a,U.locations){ga=1,ha=Db.lastIndex=0;for(var c;(c=Db.exec(V))&&c.index<a;)++ga,ha=c.index+c[0].length}fa=b,h()},d};var $,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa=[],pa={type:"num"},qa={type:"regexp"},ra={type:"string"},sa={type:"name"},ta={type:"eof"},ua={keyword:"break"},va={keyword:"case",beforeExpr:!0},wa={keyword:"catch"},xa={keyword:"continue"},ya={keyword:"debugger"},za={keyword:"default"},Aa={keyword:"do",isLoop:!0},Ba={keyword:"else",beforeExpr:!0},Ca={keyword:"finally"},Da={keyword:"for",isLoop:!0},Ea={keyword:"function"},Fa={keyword:"if"},Ga={keyword:"return",beforeExpr:!0},Ha={keyword:"switch"},Ia={keyword:"throw",beforeExpr:!0},Ja={keyword:"try"},Ka={keyword:"var"},La={keyword:"while",isLoop:!0},Ma={keyword:"with"},Na={keyword:"new",beforeExpr:!0},Oa={keyword:"this"},Pa={keyword:"null",atomValue:null},Qa={keyword:"true",atomValue:!0},Ra={keyword:"false",atomValue:!1},Sa={keyword:"in",binop:7,beforeExpr:!0},Ta={break:ua,case:va,catch:wa,continue:xa,debugger:ya,default:za,do:Aa,else:Ba,finally:Ca,for:Da,function:Ea,if:Fa,return:Ga,switch:Ha,throw:Ia,try:Ja,var:Ka,while:La,with:Ma,null:Pa,true:Qa,false:Ra,new:Na,in:Sa,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Oa,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Ua={type:"[",beforeExpr:!0},Va={type:"]"},Wa={type:"{",beforeExpr:!0},Xa={type:"}"},Ya={type:"(",beforeExpr:!0},Za={type:")"},$a={type:",",beforeExpr:!0},_a={type:";",beforeExpr:!0},ab={type:":",beforeExpr:!0},bb={type:"."},cb={type:"?",beforeExpr:!0},db={binop:10,beforeExpr:!0},eb={isAssign:!0,beforeExpr:!0},fb={isAssign:!0,beforeExpr:!0},gb={postfix:!0,prefix:!0,isUpdate:!0},hb={prefix:!0,beforeExpr:!0},ib={binop:1,beforeExpr:!0},jb={binop:2,beforeExpr:!0},kb={binop:3,beforeExpr:!0},lb={binop:4,beforeExpr:!0},mb={binop:5,beforeExpr:!0},nb={binop:6,beforeExpr:!0},ob={binop:7,beforeExpr:!0},pb={binop:8,beforeExpr:!0},qb={binop:9,prefix:!0,beforeExpr:!0},rb={binop:10,beforeExpr:!0};a.tokTypes={bracketL:Ua,bracketR:Va,braceL:Wa,braceR:Xa,parenL:Ya,parenR:Za,comma:$a,semi:_a,colon:ab,dot:bb,question:cb,slash:db,eq:eb,name:sa,eof:ta,num:pa,regexp:qa,string:ra};for(var sb in Ta)a.tokTypes["_"+sb]=Ta[sb];var tb,ub=d("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),vb=d("class enum extends super const export import"),wb=d("implements interface let package private protected public static yield"),xb=d("eval arguments"),yb=d("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),zb=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ab=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),Bb=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),Cb=/[\n\r\u2028\u2029]/,Db=/\r\n|[\n\r\u2028\u2029]/g,Eb=a.isIdentifierStart=function(a){return 65>a?36===a:91>a||(97>a?95===a:123>a||170<=a&&Ab.test(String.fromCharCode(a)))},Fb=a.isIdentifierChar=function(a){return 48>a?36===a:58>a||!(65>a)&&(91>a||(97>a?95===a:123>a||170<=a&&Bb.test(String.fromCharCode(a))))},Gb={kind:"loop"},Hb={kind:"switch"}};"object"==typeof exports&&"object"==typeof module?mod$$inline_58(exports):"function"==typeof define&&define.amd?define(["exports"],mod$$inline_58):mod$$inline_58(this.acorn||(this.acorn={}));var Interpreter=function(a,b){"string"==typeof a&&(a=acorn.parse(a,Interpreter.PARSE_OPTIONS)),this.ast=a,this.initFunc_=b,this.paused_=!1,this.polyfills_=[],this.UNDEFINED=new Interpreter.Primitive(void 0,this),this.NULL=new Interpreter.Primitive(null,this),this.NAN=new Interpreter.Primitive(NaN,this),this.TRUE=new Interpreter.Primitive(!0,this),this.FALSE=new Interpreter.Primitive(!1,this),this.NUMBER_ZERO=new Interpreter.Primitive(0,this),this.NUMBER_ONE=new Interpreter.Primitive(1,this),this.STRING_EMPTY=new Interpreter.Primitive("",this),b=this.createScope(this.ast,null),this.NAN.parent=this.NUMBER,this.TRUE.parent=this.BOOLEAN,this.FALSE.parent=this.BOOLEAN,this.NUMBER_ZERO.parent=this.NUMBER,this.NUMBER_ONE.parent=this.NUMBER,this.STRING_EMPTY.parent=this.STRING,this.ast=acorn.parse(this.polyfills_.join("\n"),Interpreter.PARSE_OPTIONS),this.polyfills_=void 0,this.stripLocations_(this.ast),this.stateStack=[{node:this.ast,scope:b,thisExpression:b,done:!1}],this.run(),this.value=this.UNDEFINED,this.ast=a,this.stateStack=[{node:this.ast,scope:b,thisExpression:b,done:!1}]};Interpreter.PARSE_OPTIONS={ecmaVersion:5},Interpreter.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},Interpreter.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},Interpreter.prototype.appendCode=function(a){var b=this.stateStack[this.stateStack.length-1];if(!b||"Program"!=b.node.type)throw Error("Expecting original AST to start with a Program node.");if("string"==typeof a&&(a=acorn.parse(a,Interpreter.PARSE_OPTIONS)),!a||"Program"!=a.type)throw Error("Expecting new AST to start with a Program node.");this.populateScope_(a,b.scope);for(var c,d=0;c=a.body[d];d++)b.node.body.push(c);b.done=!1},Interpreter.prototype.step=function(){var a=this.stateStack[0];return!(!a||"Program"==a.node.type&&a.done)&&(!!this.paused_||(this["step"+a.node.type](),!!a.node.end||this.step()))},Interpreter.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},Interpreter.prototype.initGlobalScope=function(a){this.setProperty(a,"Infinity",this.createPrimitive(1/0),Interpreter.READONLY_DESCRIPTOR),this.setProperty(a,"NaN",this.NAN,Interpreter.READONLY_DESCRIPTOR),this.setProperty(a,"undefined",this.UNDEFINED,Interpreter.READONLY_DESCRIPTOR),this.setProperty(a,"window",a,Interpreter.READONLY_DESCRIPTOR),this.setProperty(a,"self",a),this.initFunction(a),this.initObject(a),a.parent=this.OBJECT,this.initArray(a),this.initNumber(a),this.initString(a),this.initBoolean(a),this.initDate(a),this.initMath(a),this.initRegExp(a),this.initJSON(a),this.initError(a);var b,c=this;b=function(a){return a=a||c.UNDEFINED,c.createPrimitive(isNaN(a.toNumber()))},this.setProperty(a,"isNaN",this.createNativeFunction(b)),b=function(a){return a=a||c.UNDEFINED,c.createPrimitive(isFinite(a.toNumber()))},this.setProperty(a,"isFinite",this.createNativeFunction(b)),this.setProperty(a,"parseFloat",this.getProperty(this.NUMBER,"parseFloat")),this.setProperty(a,"parseInt",this.getProperty(this.NUMBER,"parseInt")),b=this.createObject(this.FUNCTION),b.eval=!0,this.setProperty(b,"length",this.NUMBER_ONE,Interpreter.READONLY_DESCRIPTOR),this.setProperty(a,"eval",b);for(var d=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],e=0;e<d.length;e++)b=function(a){return function(b){b=(b||c.UNDEFINED).toString();try{b=a(b)}catch(a){c.throwException(c.URI_ERROR,a.message)}return c.createPrimitive(b)}}(d[e][0]),this.setProperty(a,d[e][1],this.createNativeFunction(b));this.initFunc_&&this.initFunc_(this,a)},Interpreter.prototype.initFunction=function(a){var b,c=this;b=function(a){for(var b=this.parent==c.FUNCTION?this:c.createObject(c.FUNCTION),d=arguments.length?arguments[arguments.length-1].toString():"",e=[],f=0;f<arguments.length-1;f++)e.push(arguments[f].toString());if(e=e.join(", "),-1!=e.indexOf(")"))throw SyntaxError("Function arg string contains parenthesis");return b.parentScope=c.stateStack[c.stateStack.length-1].scope,d=acorn.parse("$ = function("+e+") {"+d+"};",Interpreter.PARSE_OPTIONS),b.node=d.body[0].expression.right,c.setProperty(b,"length",c.createPrimitive(b.node.length),Interpreter.READONLY_DESCRIPTOR),b},this.FUNCTION=this.createObject(null),this.setProperty(a,"Function",this.FUNCTION),this.FUNCTION.type="function",this.setProperty(this.FUNCTION,"prototype",this.createObject(null)),this.FUNCTION.nativeFunc=b,b=function(a,b){var d=c.stateStack[0];if(d.func_=this,d.funcThis_=a,d.arguments=[],b)if(c.isa(b,c.ARRAY))for(a=0;a<b.length;a++)d.arguments[a]=c.getProperty(b,a);else c.throwException(c.TYPE_ERROR,"CreateListFromArrayLike called on non-object");d.doneArgs_=!0,d.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",b),b=function(a,b){var d=c.stateStack[0];d.func_=this,d.funcThis_=a,d.arguments=[];for(var e=1;e<arguments.length;e++)d.arguments.push(arguments[e]);d.doneArgs_=!0,d.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",b),b=function(a,b){var d=c.createFunction(this.node,this.parentScope);a&&(d.boundThis_=a),d.boundArgs_=[];for(var e=1;e<arguments.length;e++)d.boundArgs_.push(arguments[e]);return d},this.setNativeFunctionPrototype(this.FUNCTION,"bind",b),b=function(){return c.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.FUNCTION,"toString",b),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(){return c.createPrimitive(this.valueOf())},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",b),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.initObject=function(a){var b,c=this;b=function(a){if(!a||a==c.UNDEFINED||a==c.NULL)return this.parent==c.OBJECT?this:c.createObject(c.OBJECT);if(a.isPrimitive){var b=c.createObject(a.parent);return b.data=a.data,b}return a},this.OBJECT=this.createNativeFunction(b),this.setProperty(a,"Object",this.OBJECT),b=function(a){var b,d=c.createObject(c.ARRAY),e=0;for(b in a.properties)c.setProperty(d,e,c.createPrimitive(b)),e++;return d},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(a){var b,d=c.createObject(c.ARRAY),e=0;for(b in a.properties)a.notEnumerable[b]||(c.setProperty(d,e,c.createPrimitive(b)),e++);return d},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(a,b,d){if(b=(b||c.UNDEFINED).toString(),d instanceof Interpreter.Object){if(a.properties[b]||!a.preventExtensions){var e=c.getProperty(d,"value");e==c.UNDEFINED&&(e=null);var f=c.getProperty(d,"get"),g=c.getProperty(d,"set");return d={configurable:c.pseudoToNative(c.getProperty(d,"configurable")),enumerable:c.pseudoToNative(c.getProperty(d,"enumerable")),writable:c.pseudoToNative(c.getProperty(d,"writable")),get:f==c.UNDEFINED?void 0:f,set:g==c.UNDEFINED?void 0:g},c.setProperty(a,b,e,d),a}c.throwException(c.TYPE_ERROR,"Can't define property "+b+", object is not extensible")}else c.throwException(c.TYPE_ERROR,"Property description must be an object.")},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(Array.prototype, 'defineProperties', {configurable: true, value:","function(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),b=function(a,b){if(!((b=(b||c.UNDEFINED).toString())in a.properties))return c.UNDEFINED;var d=!a.notConfigurable[b],e=!a.notEnumerable[b],f=!a.notWritable[b],g=a.getter[b],h=a.setter[b],i=c.createObject(c.OBJECT);return c.setProperty(i,"configurable",c.createPrimitive(d)),c.setProperty(i,"enumerable",c.createPrimitive(e)),g||h?(c.setProperty(i,"getter",g),c.setProperty(i,"setter",h)):(c.setProperty(i,"writable",c.createPrimitive(f)),c.setProperty(i,"value",c.getProperty(a,b))),i},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(a){return a.parent&&a.parent.properties&&a.parent.properties.prototype?a.parent.properties.prototype:c.NULL},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(a){return c.createPrimitive(!a.preventExtensions)},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(a){return a.isPrimitive||(a.preventExtensions=!0),a},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(){return c.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.OBJECT,"toString",b),b=function(){return c.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",b),b=function(){return c.createPrimitive(this.valueOf())},this.setNativeFunctionPrototype(this.OBJECT,"valueOf",b),b=function(a){if(this!=c.NULL&&this!=c.UNDEFINED)return a=(a||c.UNDEFINED).toString(),a in this.properties?c.TRUE:c.FALSE;c.throwException(c.TYPE_ERROR,"Cannot convert undefined or null to object")},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",b),b=function(a){return a=(a||c.UNDEFINED).toString(),a=a in this.properties&&!this.notEnumerable[a],c.createPrimitive(a)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",b),b=function(a){for(;;){if(!(a.parent&&a.parent.properties&&a.parent.properties.prototype))return c.createPrimitive(!1);if((a=a.parent.properties.prototype)==this)return c.createPrimitive(!0)}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",b)},Interpreter.prototype.initArray=function(a){var b,c=this,d=function(a,b){return a=a?Math.floor(a.toNumber()):b,isNaN(a)&&(a=b),a};b=function(a){var b=this.parent==c.ARRAY?this:c.createObject(c.ARRAY),d=arguments[0];if(d&&"number"==d.type)isNaN(c.arrayIndex(d))&&c.throwException(c.RANGE_ERROR,"Invalid array length"),b.length=d.data;else{for(d=0;d<arguments.length;d++)b.properties[d]=arguments[d];b.length=d}return b},this.ARRAY=this.createNativeFunction(b),this.setProperty(a,"Array",this.ARRAY),b=function(a){return c.createPrimitive(c.isa(a,c.ARRAY))},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(){if(this.length){var a=this.properties[this.length-1];delete this.properties[this.length-1],this.length--}else a=c.UNDEFINED;return a},this.setNativeFunctionPrototype(this.ARRAY,"pop",b),b=function(a){for(var b=0;b<arguments.length;b++)this.properties[this.length]=arguments[b],this.length++;return c.createPrimitive(this.length)},this.setNativeFunctionPrototype(this.ARRAY,"push",b),b=function(){if(this.length){for(var a=this.properties[0],b=1;b<this.length;b++)this.properties[b-1]=this.properties[b];this.length--,delete this.properties[this.length]}else a=c.UNDEFINED;return a},this.setNativeFunctionPrototype(this.ARRAY,"shift",b),b=function(a){for(var b=this.length-1;0<=b;b--)this.properties[b+arguments.length]=this.properties[b];for(this.length+=arguments.length,b=0;b<arguments.length;b++)this.properties[b]=arguments[b];return c.createPrimitive(this.length)},this.setNativeFunctionPrototype(this.ARRAY,"unshift",b),b=function(){for(var a=0;a<this.length/2;a++){var b=this.properties[this.length-a-1];this.properties[this.length-a-1]=this.properties[a],this.properties[a]=b}return this},this.setNativeFunctionPrototype(this.ARRAY,"reverse",b),b=function(a,b,e){a=d(a,0),a=0>a?Math.max(this.length+a,0):Math.min(a,this.length),b=d(b,1/0),b=Math.min(b,this.length-a);for(var f=c.createObject(c.ARRAY),g=a;g<a+b;g++)f.properties[f.length++]=this.properties[g],this.properties[g]=this.properties[g+b];for(g=a+b;g<this.length-b;g++)this.properties[g]=this.properties[g+b];for(g=this.length-b;g<this.length;g++)delete this.properties[g];for(this.length-=b,g=this.length-1;g>=a;g--)this.properties[g+arguments.length-2]=this.properties[g];for(this.length+=arguments.length-2,g=2;g<arguments.length;g++)this.properties[a+g-2]=arguments[g];return f},this.setNativeFunctionPrototype(this.ARRAY,"splice",b),b=function(a,b){var e=c.createObject(c.ARRAY),f=d(a,0);for(0>f&&(f=this.length+f),f=Math.max(0,Math.min(f,this.length)),b=d(b,this.length),0>b&&(b=this.length+b),b=Math.max(0,Math.min(b,this.length)),a=0;f<b;f++){var g=c.getProperty(this,f);c.setProperty(e,a++,g)}return e},this.setNativeFunctionPrototype(this.ARRAY,"slice",b),b=function(a){a=a&&void 0!==a.data?a.toString():void 0;for(var b=[],d=0;d<this.length;d++)b[d]=this.properties[d];return c.createPrimitive(b.join(a))},this.setNativeFunctionPrototype(this.ARRAY,"join",b),b=function(a){for(var b=c.createObject(c.ARRAY),d=0,e=0;e<this.length;e++){var f=c.getProperty(this,e);c.setProperty(b,d++,f)}for(e=0;e<arguments.length;e++){var g=arguments[e];if(c.isa(g,c.ARRAY))for(var h=0;h<g.length;h++)f=c.getProperty(g,h),c.setProperty(b,d++,f);else c.setProperty(b,d++,g)}return b},this.setNativeFunctionPrototype(this.ARRAY,"concat",b),b=function(a,b){for(a=a||c.UNDEFINED,b=d(b,0),0>b&&(b=this.length+b),b=Math.max(0,b);b<this.length;b++){var e=c.getProperty(this,b);if(e.isPrimitive&&a.isPrimitive?e.data===a.data:e===a)return c.createPrimitive(b)}return c.createPrimitive(-1)},this.setNativeFunctionPrototype(this.ARRAY,"indexOf",b),b=function(a,b){for(a=a||c.UNDEFINED,b=d(b,this.length),0>b&&(b=this.length+b),b=Math.min(b,this.length-1);0<=b;b--){var e=c.getProperty(this,b);if(e.isPrimitive&&a.isPrimitive?e.data===a.data:e===a)return c.createPrimitive(b)}return c.createPrimitive(-1)},this.setNativeFunctionPrototype(this.ARRAY,"lastIndexOf",b),
this.polyfills_.push("Object.defineProperty(Array.prototype, 'every', {configurable: true, value:","function(callbackfn, thisArg) {","if (this == null || typeof callbackfn !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O && !callbackfn.call(T, O[k], k, O)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this === void 0 || this === null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t) {","var val = t[i];","if (fun.call(thisArg, val, i, t)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O) callback.call(T, O[k], k, O);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') new TypeError;","var T, A, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","A = new Array(len);","k = 0;","while (k < len) {","if (k in O) A[k] = callback.call(T, O[k], k, O);","k++;","}","return A;","}","});","Object.defineProperty(Array.prototype, 'reduce', {configurable: true, value:","function(callback /*, initialValue*/) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = 0, value;","if (arguments.length == 2) {","value = arguments[1];","} else {","while (k < len && !(k in t)) k++;","if (k >= len) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k++];","}","for (; k < len; k++) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight', {configurable: true, value:","function(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in t)) k--;","if (k < 0) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k--];","}","for (; k >= 0; k--) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this == null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t && fun.call(thisArg, t[i], i, t)) {","return true;","}","}","return false;","}","});","Object.defineProperty(Array.prototype, 'sort', {configurable: true, value:","function(opt_comp) {","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ?opt_comp(this[j], this[j + 1]) > 0 : this[j] > this[j + 1]) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;","}","}","if (changes <= 1) break;","}","return this;","}","});","Object.defineProperty(Array.prototype, 'toLocaleString', {configurable: true, value:","function() {","var out = [];","for (var i = 0; i < this.length; i++) {","out[i] = (this[i] === null || this[i] === undefined) ? '' : this[i].toLocaleString();","}","return out.join(',');","}","});","")},Interpreter.prototype.initNumber=function(a){var b,c=this;for(b=function(a){return a=a?a.toNumber():0,this.parent!=c.NUMBER?c.createPrimitive(a):(this.data=a,this)},this.NUMBER=this.createNativeFunction(b),this.setProperty(a,"Number",this.NUMBER),a=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],b=0;b<a.length;b++)this.setProperty(this.NUMBER,a[b],this.createPrimitive(Number[a[b]]));b=function(a){return a=a||c.UNDEFINED,c.createPrimitive(parseFloat(a.toString()))},this.setProperty(this.NUMBER,"parseFloat",this.createNativeFunction(b)),b=function(a,b){return a=a||c.UNDEFINED,b=b||c.UNDEFINED,c.createPrimitive(parseInt(a.toString(),b.toNumber()))},this.setProperty(this.NUMBER,"parseInt",this.createNativeFunction(b)),b=function(a){a=a?a.toNumber():void 0;var b=this.toNumber();return c.createPrimitive(b.toExponential(a))},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",b),b=function(a){a=a?a.toNumber():void 0;var b=this.toNumber();return c.createPrimitive(b.toFixed(a))},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",b),b=function(a){a=a?a.toNumber():void 0;var b=this.toNumber();return c.createPrimitive(b.toPrecision(a))},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",b),b=function(a){a=a?a.toNumber():10;var b=this.toNumber();return c.createPrimitive(b.toString(a))},this.setNativeFunctionPrototype(this.NUMBER,"toString",b),b=function(a,b){return a=a?c.pseudoToNative(a):void 0,b=b?c.pseudoToNative(b):void 0,c.createPrimitive(this.toNumber().toLocaleString(a,b))},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",b)},Interpreter.prototype.initString=function(a){var b,c=this;b=function(a){return a=a?a.toString():"",this.parent!=c.STRING?c.createPrimitive(a):(this.data=a,this)},this.STRING=this.createNativeFunction(b),this.setProperty(a,"String",this.STRING),b=function(a){for(var b=0;b<arguments.length;b++)arguments[b]=arguments[b].toNumber();return c.createPrimitive(String.fromCharCode.apply(String,arguments))},this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),a=["toLowerCase","toUpperCase","toLocaleLowerCase","toLocaleUpperCase"];for(var d=0;d<a.length;d++)b=function(a){return function(){return c.createPrimitive(a.apply(this))}}(String.prototype[a[d]]),this.setNativeFunctionPrototype(this.STRING,a[d],b);for(b=function(){var a=this.toString();return c.createPrimitive(a.replace(/^\s+|\s+$/g,""))},this.setNativeFunctionPrototype(this.STRING,"trim",b),b=function(){var a=this.toString();return c.createPrimitive(a.replace(/^\s+/g,""))},this.setNativeFunctionPrototype(this.STRING,"trimLeft",b),b=function(){var a=this.toString();return c.createPrimitive(a.replace(/\s+$/g,""))},this.setNativeFunctionPrototype(this.STRING,"trimRight",b),a=["charAt","charCodeAt","substring","slice","substr"],d=0;d<a.length;d++)b=function(a){return function(){for(var b=0;b<arguments.length;b++)arguments[b]=arguments[b].toNumber();return c.createPrimitive(a.apply(this,arguments))}}(String.prototype[a[d]]),this.setNativeFunctionPrototype(this.STRING,a[d],b);b=function(a,b){var d=this.toString();return a=(a||c.UNDEFINED).toString(),b=b?b.toNumber():void 0,c.createPrimitive(d.indexOf(a,b))},this.setNativeFunctionPrototype(this.STRING,"indexOf",b),b=function(a,b){var d=this.toString();return a=(a||c.UNDEFINED).toString(),b=b?b.toNumber():void 0,c.createPrimitive(d.lastIndexOf(a,b))},this.setNativeFunctionPrototype(this.STRING,"lastIndexOf",b),b=function(a,b,d){return a=(a||c.UNDEFINED).toString(),b=b?c.pseudoToNative(b):void 0,d=d?c.pseudoToNative(d):void 0,c.createPrimitive(this.toString().localeCompare(a,b,d))},this.setNativeFunctionPrototype(this.STRING,"localeCompare",b),b=function(a,b){var d=this.toString();for(a=a?c.isa(a,c.REGEXP)?a.data:a.toString():void 0,b=b?b.toNumber():void 0,a=d.split(a,b),b=c.createObject(c.ARRAY),d=0;d<a.length;d++)c.setProperty(b,d,c.createPrimitive(a[d]));return b},this.setNativeFunctionPrototype(this.STRING,"split",b),b=function(a){for(var b=this.toString(),d=0;d<arguments.length;d++)b+=arguments[d].toString();return c.createPrimitive(b)},this.setNativeFunctionPrototype(this.STRING,"concat",b),b=function(a){var b=this.toString();if(a=a?a.data:void 0,null===(a=b.match(a)))return c.NULL;for(var b=c.createObject(c.ARRAY),d=0;d<a.length;d++)c.setProperty(b,d,c.createPrimitive(a[d]));return b},this.setNativeFunctionPrototype(this.STRING,"match",b),b=function(a){var b=this.toString();return a=a?a.data:void 0,c.createPrimitive(b.search(a))},this.setNativeFunctionPrototype(this.STRING,"search",b),b=function(a,b){var d=this.toString();return a=(a||c.UNDEFINED).valueOf(),b=(b||c.UNDEFINED).toString(),c.createPrimitive(d.replace(a,b))},this.setNativeFunctionPrototype(this.STRING,"replace",b)},Interpreter.prototype.initBoolean=function(a){var b,c=this;b=function(a){return a=!!a&&a.toBoolean(),this.parent!=c.BOOLEAN?c.createPrimitive(a):(this.data=a,this)},this.BOOLEAN=this.createNativeFunction(b),this.setProperty(a,"Boolean",this.BOOLEAN)},Interpreter.prototype.initDate=function(a){var b,c=this;b=function(a,b,d,e,f,g,h){if(this.parent!=c.DATE)return c.createPrimitive(Date());var i=this;if(arguments.length)if(1!=arguments.length||"string"!=a.type&&!c.isa(a,c.STRING)){for(var j=[null],k=0;k<arguments.length;k++)j[k+1]=arguments[k]?arguments[k].toNumber():void 0;i.data=new(Function.prototype.bind.apply(Date,j))}else i.data=new Date(a.toString());else i.data=new Date;return i},this.DATE=this.createNativeFunction(b),this.setProperty(a,"Date",this.DATE),b=function(){return c.createPrimitive((new Date).getTime())},this.setProperty(this.DATE,"now",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(a){return a=a?a.toString():void 0,c.createPrimitive(Date.parse(a))},this.setProperty(this.DATE,"parse",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),b=function(a,b,d,e,f,g,h){for(var i=[],j=0;j<arguments.length;j++)i[j]=arguments[j]?arguments[j].toNumber():void 0;return c.createPrimitive(Date.UTC.apply(Date,i))},this.setProperty(this.DATE,"UTC",this.createNativeFunction(b),Interpreter.NONENUMERABLE_DESCRIPTOR),a="getDate getDay getFullYear getHours getMilliseconds getMinutes getMonth getSeconds getTime getTimezoneOffset getUTCDate getUTCDay getUTCFullYear getUTCHours getUTCMilliseconds getUTCMinutes getUTCMonth getUTCSeconds getYear setDate setFullYear setHours setMilliseconds setMinutes setMonth setSeconds setTime setUTCDate setUTCFullYear setUTCHours setUTCMilliseconds setUTCMinutes setUTCMonth setUTCSeconds setYear toDateString toISOString toJSON toGMTString toLocaleDateString toLocaleString toLocaleTimeString toTimeString toUTCString".split(" ");for(var d=0;d<a.length;d++)b=function(a){return function(b){for(var d=[],e=0;e<arguments.length;e++)d[e]=c.pseudoToNative(arguments[e]);return c.createPrimitive(this.data[a].apply(this.data,d))}}(a[d]),this.setNativeFunctionPrototype(this.DATE,a[d],b)},Interpreter.prototype.initMath=function(a){var b=this,c=this.createObject(this.OBJECT);this.setProperty(a,"Math",c);var d="E LN2 LN10 LOG2E LOG10E PI SQRT1_2 SQRT2".split(" ");for(a=0;a<d.length;a++)this.setProperty(c,d[a],this.createPrimitive(Math[d[a]]),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);for(d="abs acos asin atan atan2 ceil cos exp floor log max min pow random round sin sqrt tan".split(" "),a=0;a<d.length;a++){var e=function(a){return function(){for(var c=0;c<arguments.length;c++)arguments[c]=arguments[c].toNumber();return b.createPrimitive(a.apply(Math,arguments))}}(Math[d[a]]);this.setProperty(c,d[a],this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR)}},Interpreter.prototype.initRegExp=function(a){var b,c=this;b=function(a,b){var d=this.parent==c.REGEXP?this:c.createObject(c.REGEXP);return a=a?a.toString():"",b=b?b.toString():"",c.populateRegExp_(d,new RegExp(a,b))},this.REGEXP=this.createNativeFunction(b),this.setProperty(a,"RegExp",this.REGEXP),this.setProperty(this.REGEXP.properties.prototype,"global",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source",this.createPrimitive("(?:)"),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),b=function(a){return a=a.toString(),c.createPrimitive(this.data.test(a))},this.setNativeFunctionPrototype(this.REGEXP,"test",b),b=function(a){if(a=a.toString(),this.data.lastIndex=c.getProperty(this,"lastIndex").toNumber(),a=this.data.exec(a),c.setProperty(this,"lastIndex",c.createPrimitive(this.data.lastIndex)),a){for(var b=c.createObject(c.ARRAY),d=0;d<a.length;d++)c.setProperty(b,d,c.createPrimitive(a[d]));return c.setProperty(b,"index",c.createPrimitive(a.index)),c.setProperty(b,"input",c.createPrimitive(a.input)),b}return c.NULL},this.setNativeFunctionPrototype(this.REGEXP,"exec",b)},Interpreter.prototype.initJSON=function(a){var b=this,c=b.createObject(this.OBJECT);this.setProperty(a,"JSON",c),a=function(a){try{var c=JSON.parse(a.toString())}catch(a){return void b.throwException(b.SYNTAX_ERROR,a.message)}return b.nativeToPseudo(c)},this.setProperty(c,"parse",this.createNativeFunction(a)),a=function(a){return a=b.pseudoToNative(a),b.createPrimitive(JSON.stringify(a))},this.setProperty(c,"stringify",this.createNativeFunction(a))},Interpreter.prototype.initError=function(a){var b=this;this.ERROR=this.createNativeFunction(function(a){var c=this.parent==b.ERROR?this:b.createObject(b.ERROR);return a&&b.setProperty(c,"message",b.createPrimitive(String(a)),Interpreter.NONENUMERABLE_DESCRIPTOR),c}),this.setProperty(a,"Error",this.ERROR),this.setProperty(this.ERROR.properties.prototype,"message",this.STRING_EMPTY,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name",this.createPrimitive("Error"),Interpreter.NONENUMERABLE_DESCRIPTOR);var c=function(c){var d=b.createNativeFunction(function(a){var c=b.isa(this.parent,b.ERROR)?this:b.createObject(d);return a&&b.setProperty(c,"message",b.createPrimitive(String(a)),Interpreter.NONENUMERABLE_DESCRIPTOR),c});return b.setProperty(d,"prototype",b.createObject(b.ERROR)),b.setProperty(d.properties.prototype,"name",b.createPrimitive(c),Interpreter.NONENUMERABLE_DESCRIPTOR),b.setProperty(a,c,d),d};c("EvalError"),this.RANGE_ERROR=c("RangeError"),this.REFERENCE_ERROR=c("ReferenceError"),this.SYNTAX_ERROR=c("SyntaxError"),this.TYPE_ERROR=c("TypeError"),this.URI_ERROR=c("URIError")},Interpreter.prototype.isa=function(a,b){if(!a||!b)return!1;for(;a.parent!=b;){if(!a.parent||!a.parent.properties.prototype)return!1;a=a.parent.properties.prototype}return!0},Interpreter.prototype.comp=function(a,b){return a.isPrimitive&&isNaN(a.data)||b.isPrimitive&&isNaN(b.data)?NaN:a===b?0:(a=a.isPrimitive?a.data:a.toString(),b=b.isPrimitive?b.data:b.toString(),a<b?-1:a>b?1:0)},Interpreter.prototype.arrayIndex=function(a){return a=Number(a),!isFinite(a)||a!=Math.floor(a)||0>a?NaN:a},Interpreter.Primitive=function(a,b){var c=typeof a;this.data=a,this.type=c,"number"==c?this.parent=b.NUMBER:"string"==c?this.parent=b.STRING:"boolean"==c&&(this.parent=b.BOOLEAN)},Interpreter.Primitive.prototype.data=void 0,Interpreter.Primitive.prototype.type="undefined",Interpreter.Primitive.prototype.parent=null,Interpreter.Primitive.prototype.isPrimitive=!0,Interpreter.Primitive.prototype.toBoolean=function(){return!!this.data},Interpreter.Primitive.prototype.toNumber=function(){return Number(this.data)},Interpreter.Primitive.prototype.toString=function(){return String(this.data)},Interpreter.Primitive.prototype.valueOf=function(){return this.data},Interpreter.prototype.createPrimitive=function(a){return void 0===a?this.UNDEFINED:null===a?this.NULL:!0===a?this.TRUE:!1===a?this.FALSE:0===a?this.NUMBER_ZERO:1===a?this.NUMBER_ONE:""===a?this.STRING_EMPTY:a instanceof RegExp?this.populateRegExp_(this.createObject(this.REGEXP),a):new Interpreter.Primitive(a,this)},Interpreter.Object=function(a){this.notConfigurable=Object.create(null),this.notEnumerable=Object.create(null),this.notWritable=Object.create(null),this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.parent=a},Interpreter.Object.prototype.type="object",Interpreter.Object.prototype.parent=null,Interpreter.Object.prototype.isPrimitive=!1,Interpreter.Object.prototype.data=void 0,Interpreter.Object.prototype.toBoolean=function(){return!0},Interpreter.Object.prototype.toNumber=function(){return Number(void 0===this.data?this.toString():this.data)},Interpreter.Object.prototype.toString=function(){return void 0===this.data?"["+this.type+"]":String(this.data)},Interpreter.Object.prototype.valueOf=function(){return void 0===this.data?this:this.data},Interpreter.prototype.createObject=function(a){return a=new Interpreter.Object(a),this.isa(a,this.FUNCTION)&&(a.type="function",this.setProperty(a,"prototype",this.createObject(this.OBJECT||null))),this.isa(a,this.ARRAY)&&(a.length=0,a.toString=function(){for(var a=[],b=0;b<this.length;b++){var c=this.properties[b];a[b]=!c||c.isPrimitive&&(null===c.data||void 0===c.data)?"":c.toString()}return a.join(",")}),a},Interpreter.prototype.populateRegExp_=function(a,b){return a.data=b,this.setProperty(a,"lastIndex",this.createPrimitive(b.lastIndex),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(a,"source",this.createPrimitive(b.source),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(a,"global",this.createPrimitive(b.global),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(a,"ignoreCase",this.createPrimitive(b.ignoreCase),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(a,"multiline",this.createPrimitive(b.multiline),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),a.toString=function(){return String(this.data)},a.valueOf=function(){return this.data},a},Interpreter.prototype.createFunction=function(a,b){var c=this.createObject(this.FUNCTION);return c.parentScope=b||this.getScope(),c.node=a,this.setProperty(c,"length",this.createPrimitive(c.node.params.length),Interpreter.READONLY_DESCRIPTOR),c},Interpreter.prototype.createNativeFunction=function(a){var b=this.createObject(this.FUNCTION);return b.nativeFunc=a,this.setProperty(b,"length",this.createPrimitive(a.length),Interpreter.READONLY_DESCRIPTOR),b},Interpreter.prototype.createAsyncFunction=function(a){var b=this.createObject(this.FUNCTION);return b.asyncFunc=a,this.setProperty(b,"length",this.createPrimitive(a.length),Interpreter.READONLY_DESCRIPTOR),b},Interpreter.prototype.nativeToPseudo=function(a){if("boolean"==typeof a||"number"==typeof a||"string"==typeof a||null===a||void 0===a||a instanceof RegExp)return this.createPrimitive(a);var b;if(a instanceof Array){b=this.createObject(this.ARRAY);for(var c=0;c<a.length;c++)this.setProperty(b,c,this.nativeToPseudo(a[c]))}else for(c in b=this.createObject(this.OBJECT),a)this.setProperty(b,c,this.nativeToPseudo(a[c]));return b},Interpreter.prototype.pseudoToNative=function(a){if(a.isPrimitive||this.isa(a,this.NUMBER)||this.isa(a,this.STRING)||this.isa(a,this.BOOLEAN))return a.data;var b;if(this.isa(a,this.ARRAY)){b=[];for(var c=0;c<a.length;c++)b[c]=this.pseudoToNative(a.properties[c])}else for(c in b={},a.properties)b[c]=this.pseudoToNative(a.properties[c]);return b},Interpreter.prototype.getProperty=function(a,b){if(b=b.toString(),a==this.UNDEFINED||a==this.NULL)return this.throwException(this.TYPE_ERROR,"Cannot read property '"+b+"' of "+a),null;if(this.isa(a,this.STRING)){if("length"==b)return this.createPrimitive(a.data.length);var c=this.arrayIndex(b);if(!isNaN(c)&&c<a.data.length)return this.createPrimitive(a.data[c])}else if(this.isa(a,this.ARRAY)&&"length"==b)return this.createPrimitive(a.length);for(;;){if(a.properties&&b in a.properties)return(c=a.getter[b])?(c.isGetter=!0,c):a.properties[b];if(!(a.parent&&a.parent.properties&&a.parent.properties.prototype))break;a=a.parent.properties.prototype}return this.UNDEFINED},Interpreter.prototype.hasProperty=function(a,b){if(b=b.toString(),a.isPrimitive)throw TypeError("Primitive data type has no properties");if("length"==b&&(this.isa(a,this.STRING)||this.isa(a,this.ARRAY)))return!0;if(this.isa(a,this.STRING)){var c=this.arrayIndex(b);if(!isNaN(c)&&c<a.data.length)return!0}for(;;){if(a.properties&&b in a.properties)return!0;if(!(a.parent&&a.parent.properties&&a.parent.properties.prototype))break;a=a.parent.properties.prototype}return!1},Interpreter.prototype.setProperty=function(a,b,c,d){if(b=b.toString(),d&&a.notConfigurable[b]&&this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+b),"object"!=typeof c)throw Error("Failure to wrap a value: "+c);if(a!=this.UNDEFINED&&a!=this.NULL||this.throwException(this.TYPE_ERROR,"Cannot set property '"+b+"' of "+a),d&&(d.get||d.set)&&(c||void 0!==d.writable)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute"),!a.isPrimitive){if(this.isa(a,this.STRING)){var e=this.arrayIndex(b);if("length"==b||!isNaN(e)&&e<a.data.length)return}if(this.isa(a,this.ARRAY)){var f;if("length"==b){if(b=this.arrayIndex(c.toNumber()),isNaN(b)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),b<a.length)for(f in a.properties)f=this.arrayIndex(f),!isNaN(f)&&b<=f&&delete a.properties[f];return void(a.length=b)}isNaN(f=this.arrayIndex(b))||(a.length=Math.max(a.length,f+1))}if(!a.properties[b]&&a.preventExtensions)a=this.getScope(),a.strict&&this.throwException(this.TYPE_ERROR,"Can't add property "+b+", object is not extensible");else if(d)a.properties[b]=c,d.configurable||(a.notConfigurable[b]=!0),(c=d.get)?a.getter[b]=c:delete a.getter[b],(f=d.set)?a.setter[b]=f:delete a.setter[b],(e=d.enumerable||!1)?delete a.notEnumerable[b]:a.notEnumerable[b]=!0,c||f?(delete a.notWritable[b],a.properties[b]=this.UNDEFINED):(d=d.writable||!1)?delete a.notWritable[b]:a.notWritable[b]=!0;else{for(d=a;;){if(d.setter&&d.setter[b])return d.setter[b];if(!(d.parent&&d.parent.properties&&d.parent.properties.prototype))break;d=d.parent.properties.prototype}a.notWritable[b]||(a.properties[b]=c)}}},Interpreter.prototype.setNativeFunctionPrototype=function(a,b,c){this.setProperty(a.properties.prototype,b,this.createNativeFunction(c),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.deleteProperty=function(a,b){return b=b.toString(),!(a.isPrimitive||a.notWritable[b]||"length"==b&&this.isa(a,this.ARRAY))&&delete a.properties[b]},Interpreter.prototype.getScope=function(){for(var a=0;a<this.stateStack.length;a++)if(this.stateStack[a].scope)return this.stateStack[a].scope;throw Error("No scope found.")},Interpreter.prototype.createScope=function(a,b){var c=this.createObject(null);return(c.parentScope=b)||this.initGlobalScope(c),this.populateScope_(a,c),c.strict=!1,b&&b.strict?c.strict=!0:(a=a.body&&a.body[0])&&a.expression&&"Literal"==a.expression.type&&"use strict"==a.expression.value&&(c.strict=!0),c},Interpreter.prototype.createSpecialScope=function(a,b){if(!a)throw Error("parentScope required");return b=b||this.createObject(null),b.parentScope=a,b.strict=a.strict,b},Interpreter.prototype.getValueFromScope=function(a){var b=this.getScope();for(a=a.toString();b;){if(a in b.properties)return b.properties[a];b=b.parentScope}return this.throwException(this.REFERENCE_ERROR,a+" is not defined"),null},Interpreter.prototype.setValueToScope=function(a,b){var c=this.getScope(),d=c.strict;for(a=a.toString();c;){if(a in c.properties||!d&&!c.parentScope)return void(c.notWritable[a]||(c.properties[a]=b));c=c.parentScope}this.throwException(this.REFERENCE_ERROR,a+" is not defined")},Interpreter.prototype.populateScope_=function(a,b){if("VariableDeclaration"==a.type)for(var c=0;c<a.declarations.length;c++)this.setProperty(b,a.declarations[c].id.name,this.UNDEFINED);else{if("FunctionDeclaration"==a.type)return void this.setProperty(b,a.id.name,this.createFunction(a,b));if("FunctionExpression"==a.type)return}var d,e=a.constructor;for(d in a){var f=a[d];if(f&&"object"==typeof f)if(f instanceof Array)for(c=0;c<f.length;c++)f[c]&&f[c].constructor==e&&this.populateScope_(f[c],b);else f.constructor==e&&this.populateScope_(f,b)}},Interpreter.prototype.stripLocations_=function(a){delete a.start,delete a.end;for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];c&&"object"==typeof c&&this.stripLocations_(c)}},Interpreter.prototype.getValue=function(a){if(a instanceof Array){var b=a[0];return a=a[1],this.getProperty(b,a)}return this.getValueFromScope(a)},Interpreter.prototype.setValue=function(a,b){if(a instanceof Array){var c=a[0];return a=a[1],this.setProperty(c,a,b)}this.setValueToScope(a,b)},Interpreter.prototype.throwException=function(a,b){if(this.stateStack[0].interpreter)try{return void this.stateStack[0].interpreter.throwException(a,b)}catch(a){}void 0!==b&&(a=this.createObject(a),this.setProperty(a,"message",this.createPrimitive(b),Interpreter.NONENUMERABLE_DESCRIPTOR)),this.executeException(a)},Interpreter.prototype.executeException=function(a){do{this.stateStack.shift();var b=this.stateStack[0];if("TryStatement"==b.node.type)return void(b.throwValue=a)}while(b&&"Program"!=b.node.type);if(this.isa(a,this.ERROR)){var b={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},c=this.getProperty(a,"name").toString();a=this.getProperty(a,"message").valueOf(),b=b[c]||Error,a=b(a)}else a=a.toString();throw a},Interpreter.prototype.stepArrayExpression=function(){var a=this.stateStack[0],b=a.node,c=a.n||0;a.array?a.value&&this.setProperty(a.array,c-1,a.value):a.array=this.createObject(this.ARRAY),c<b.elements.length?(a.n=c+1,b.elements[c]?this.stateStack.unshift({node:b.elements[c]}):a.value=void 0):(a.array.length=a.n||0,this.stateStack.shift(),this.stateStack[0].value=a.array)},Interpreter.prototype.stepAssignmentExpression=function(){var a=this.stateStack[0],b=a.node;if(a.doneLeft)if(a.doneRight)if(a.doneSetter_)this.stateStack.shift(),this.stateStack[0].value=a.doneSetter_;else{var c=a.value;if("="==b.operator)b=c;else{var d=a.leftValue.toNumber(),e=c.toNumber();if("+="==b.operator)"string"==a.leftValue.type||"string"==c.type?(b=a.leftValue.toString(),c=c.toString()):(b=d,c=e),b+=c;else if("-="==b.operator)b=d-e;else if("*="==b.operator)b=d*e;else if("/="==b.operator)b=d/e;else if("%="==b.operator)b=d%e;else if("<<="==b.operator)b=d<<e;else if(">>="==b.operator)b=d>>e;else if(">>>="==b.operator)b=d>>>e;else if("&="==b.operator)b=d&e;else if("^="==b.operator)b=d^e;else{if("|="!=b.operator)throw SyntaxError("Unknown assignment expression: "+b.operator);b=d|e}b=this.createPrimitive(b)}(c=this.setValue(a.leftSide,b))?(a.doneSetter_=b,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.leftSide[0],func_:c,doneArgs_:!0,arguments:[b]})):(this.stateStack.shift(),this.stateStack[0].value=b)}else{if(a.leftSide||(a.leftSide=a.value),a.doneGetter_&&(a.leftValue=a.value),!a.doneGetter_&&"="!=b.operator&&(a.leftValue=this.getValue(a.leftSide),a.leftValue.isGetter))return a.leftValue.isGetter=!1,a.doneGetter_=!0,void this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.leftSide[0],func_:a.leftValue,doneArgs_:!0,arguments:[]});a.doneRight=!0,this.stateStack.unshift({node:b.right})}else a.doneLeft=!0,this.stateStack.unshift({node:b.left,components:!0})},Interpreter.prototype.stepBinaryExpression=function(){var a=this.stateStack[0],b=a.node;if(a.doneLeft)if(a.doneRight){this.stateStack.shift();var c=a.leftValue,a=a.value,d=this.comp(c,a);if("=="==b.operator||"!="==b.operator)c=c.isPrimitive&&a.isPrimitive?c.data==a.data:0===d,"!="==b.operator&&(c=!c);else if("==="==b.operator||"!=="==b.operator)c=c.isPrimitive&&a.isPrimitive?c.data===a.data:c===a,"!=="==b.operator&&(c=!c);else if(">"==b.operator)c=1==d;else if(">="==b.operator)c=1==d||0===d;else if("<"==b.operator)c=-1==d;else if("<="==b.operator)c=-1==d||0===d;else if("+"==b.operator)c=c.isPrimitive?c.data:c.toString(),a=a.isPrimitive?a.data:a.toString(),c+=a;else if("in"==b.operator)c=this.hasProperty(a,c);else if("instanceof"==b.operator)this.isa(a,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"Expecting a function in instanceof check"),c=this.isa(c,a);else if(c=c.toNumber(),a=a.toNumber(),"-"==b.operator)c-=a;else if("*"==b.operator)c*=a;else if("/"==b.operator)c/=a;else if("%"==b.operator)c%=a;else if("&"==b.operator)c&=a;else if("|"==b.operator)c|=a;else if("^"==b.operator)c^=a;else if("<<"==b.operator)c<<=a;else if(">>"==b.operator)c>>=a;else{if(">>>"!=b.operator)throw SyntaxError("Unknown binary operator: "+b.operator);c>>>=a}this.stateStack[0].value=this.createPrimitive(c)}else a.doneRight=!0,a.leftValue=a.value,this.stateStack.unshift({node:b.right});else a.doneLeft=!0,this.stateStack.unshift({node:b.left})},Interpreter.prototype.stepBlockStatement=function(){var a=this.stateStack[0],b=a.node,c=a.n_||0;b.body[c]?(a.done=!1,a.n_=c+1,this.stateStack.unshift({node:b.body[c]})):(a.done=!0,"Program"!=a.node.type&&this.stateStack.shift())},Interpreter.prototype.stepBreakStatement=function(){var a=this.stateStack.shift(),a=a.node,b=null;for(a.label&&(b=a.label.name),a=this.stateStack.shift();a&&"CallExpression"!=a.node.type&&"NewExpression"!=a.node.type;){if(b?b==a.label:a.isLoop||a.isSwitch)return;a=this.stateStack.shift()}throw SyntaxError("Illegal break statement")},Interpreter.prototype.stepCallExpression=function(){var a=this.stateStack[0],b=a.node;if(a.doneCallee_){if(!a.func_){if("function"==a.value.type)a.func_=a.value;else{if(a.value.length&&(a.member_=a.value[0]),a.func_=this.getValue(a.value),!a.func_)return;if("function"!=a.func_.type)return void this.throwException(this.TYPE_ERROR,(a.value&&a.value.type)+" is not a function")}"NewExpression"==a.node.type?(a.funcThis_=this.createObject(a.func_),a.isConstructor_=!0):a.funcThis_=a.func_.boundThis_?a.func_.boundThis_:a.value.length?a.value[0]:this.stateStack[this.stateStack.length-1].thisExpression,a.arguments=a.func_.boundArgs_?a.func_.boundArgs_.concat():[],a.n_=0}if(!a.doneArgs_){if(0!=a.n_&&a.arguments.push(a.value),b.arguments[a.n_])return this.stateStack.unshift({node:b.arguments[a.n_]}),void a.n_++;a.doneArgs_=!0}if(a.doneExec_)this.stateStack.shift(),this.stateStack[0].value=a.isConstructor_&&"object"!==a.value.type?a.funcThis_:a.value;else if(a.doneExec_=!0,a.func_.node){for(var b=this.createScope(a.func_.node.body,a.func_.parentScope),c=0;c<a.func_.node.params.length;c++){var d=this.createPrimitive(a.func_.node.params[c].name),e=a.arguments.length>c?a.arguments[c]:this.UNDEFINED;this.setProperty(b,d,e)}for(d=this.createObject(this.ARRAY),c=0;c<a.arguments.length;c++)this.setProperty(d,this.createPrimitive(c),a.arguments[c]);this.setProperty(b,"arguments",d),b={node:a.func_.node.body,scope:b,thisExpression:a.funcThis_},this.stateStack.unshift(b),a.value=this.UNDEFINED}else if(a.func_.nativeFunc)a.value=a.func_.nativeFunc.apply(a.funcThis_,a.arguments);else if(a.func_.asyncFunc){var f=this,b=function(b){a.value=b||f.UNDEFINED,f.paused_=!1},b=a.arguments.concat(b);a.func_.asyncFunc.apply(a.funcThis_,b),this.paused_=!0}else{if(!a.func_.eval)throw TypeError("function not a function (huh?)");(b=a.arguments[0])?b.isPrimitive?(b=new Interpreter(b.toString()),b.stateStack[0].scope=this.getScope(),a={node:{type:"Eval_"},interpreter:b},this.stateStack.unshift(a)):a.value=b:a.value=this.UNDEFINED}}else a.doneCallee_=!0,this.stateStack.unshift({node:b.callee,components:!0})},Interpreter.prototype.stepCatchClause=function(){var a=this.stateStack[0],b=a.node;if(a.doneBody)this.stateStack.shift();else{a.doneBody=!0;var c;if(b.param){c=this.createSpecialScope(this.getScope());var d=this.createPrimitive(b.param.name)
;this.setProperty(c,d,a.throwValue)}this.stateStack.unshift({node:b.body,scope:c})}},Interpreter.prototype.stepConditionalExpression=function(){var a=this.stateStack[0];a.done?(this.stateStack.shift(),"ConditionalExpression"==a.node.type&&(this.stateStack[0].value=a.value)):a.test?(a.done=!0,a.value.toBoolean()&&a.node.consequent?this.stateStack.unshift({node:a.node.consequent}):!a.value.toBoolean()&&a.node.alternate&&this.stateStack.unshift({node:a.node.alternate})):(a.test=!0,this.stateStack.unshift({node:a.node.test}))},Interpreter.prototype.stepContinueStatement=function(){var a=this.stateStack[0].node,b=null;for(a.label&&(b=a.label.name),a=this.stateStack[0];a&&"CallExpression"!=a.node.type&&"NewExpression"!=a.node.type;){if(a.isLoop&&(!b||b==a.label))return;this.stateStack.shift(),a=this.stateStack[0]}throw SyntaxError("Illegal continue statement")},Interpreter.prototype.stepDoWhileStatement=function(){var a=this.stateStack[0];a.isLoop=!0,"DoWhileStatement"==a.node.type&&void 0===a.test&&(a.value=this.TRUE,a.test=!0),a.test?(a.test=!1,a.value.toBoolean()?a.node.body&&this.stateStack.unshift({node:a.node.body}):this.stateStack.shift()):(a.test=!0,this.stateStack.unshift({node:a.node.test}))},Interpreter.prototype.stepEmptyStatement=function(){this.stateStack.shift()},Interpreter.prototype.stepEval_=function(){var a=this.stateStack[0];a.interpreter.step()||(this.stateStack.shift(),this.stateStack[0].value=a.interpreter.value||this.UNDEFINED)},Interpreter.prototype.stepExpressionStatement=function(){var a=this.stateStack[0];a.done?(this.stateStack.shift(),this.value=a.value):(a.done=!0,this.stateStack.unshift({node:a.node.expression}))},Interpreter.prototype.stepForInStatement=function(){var a=this.stateStack[0];a.isLoop=!0;var b=a.node;if(a.doneVariable_)if(a.doneObject_){void 0===a.iterator&&(a.object=a.value,a.iterator=0);var c=null;a:do{var d,e=a.iterator;for(d in a.object.properties)if(!a.object.notEnumerable[d]){if(0==e){c=d;break a}e--}a.object=a.object.parent&&a.object.parent.properties.prototype,a.iterator=0}while(a.object);a.iterator++,null===c?this.stateStack.shift():(this.setValueToScope(a.variable,this.createPrimitive(c)),b.body&&this.stateStack.unshift({node:b.body}))}else a.doneObject_=!0,a.variable=a.value,this.stateStack.unshift({node:b.right});else a.doneVariable_=!0,a=b.left,"VariableDeclaration"==a.type&&(a=a.declarations[0].id),this.stateStack.unshift({node:a,components:!0})},Interpreter.prototype.stepForStatement=function(){var a=this.stateStack[0];a.isLoop=!0;var b=a.node,c=a.mode||0;0==c?(a.mode=1,b.init&&this.stateStack.unshift({node:b.init})):1==c?(a.mode=2,b.test&&this.stateStack.unshift({node:b.test})):2==c?(a.mode=3,b.test&&a.value&&!a.value.toBoolean()?this.stateStack.shift():b.body&&this.stateStack.unshift({node:b.body})):3==c&&(a.mode=1,b.update&&this.stateStack.unshift({node:b.update}))},Interpreter.prototype.stepFunctionDeclaration=function(){this.stateStack.shift()},Interpreter.prototype.stepFunctionExpression=function(){var a=this.stateStack.shift();this.stateStack[0].value=this.createFunction(a.node)},Interpreter.prototype.stepIdentifier=function(){var a=this.stateStack.shift(),b=this.createPrimitive(a.node.name);this.stateStack[0].value=a.components?b:this.getValueFromScope(b)},Interpreter.prototype.stepIfStatement=Interpreter.prototype.stepConditionalExpression,Interpreter.prototype.stepLabeledStatement=function(){var a=this.stateStack.shift();this.stateStack.unshift({node:a.node.body,label:a.node.label.name})},Interpreter.prototype.stepLiteral=function(){var a=this.stateStack.shift();this.stateStack[0].value=this.createPrimitive(a.node.value)},Interpreter.prototype.stepLogicalExpression=function(){var a=this.stateStack[0],b=a.node;if("&&"!=b.operator&&"||"!=b.operator)throw SyntaxError("Unknown logical operator: "+b.operator);a.doneLeft_?a.doneRight_?(this.stateStack.shift(),this.stateStack[0].value=a.value):"&&"==b.operator&&!a.value.toBoolean()||"||"==b.operator&&a.value.toBoolean()?(this.stateStack.shift(),this.stateStack[0].value=a.value):(a.doneRight_=!0,this.stateStack.unshift({node:b.right})):(a.doneLeft_=!0,this.stateStack.unshift({node:b.left}))},Interpreter.prototype.stepMemberExpression=function(){var a=this.stateStack[0],b=a.node;a.doneObject_?a.doneProperty_?(this.stateStack.shift(),a.components?this.stateStack[0].value=[a.object,a.value]:(b=this.getProperty(a.object,a.value))?b.isGetter?(b.isGetter=!1,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.object,func_:b,doneArgs_:!0,arguments:[]})):this.stateStack[0].value=b:(this.stateStack.unshift({}),this.throwException(this.TYPE_ERROR,"Cannot read property '"+a.value+"' of "+a.object.toString()))):(a.doneProperty_=!0,a.object=a.value,this.stateStack.unshift({node:b.property,components:!b.computed})):(a.doneObject_=!0,this.stateStack.unshift({node:b.object}))},Interpreter.prototype.stepNewExpression=Interpreter.prototype.stepCallExpression,Interpreter.prototype.stepObjectExpression=function(){var a=this.stateStack[0],b=a.node,c=a.valueToggle,d=a.n||0;if(a.object?c?a.key=a.value:(a.properties[a.key]||(a.properties[a.key]={}),a.properties[a.key][a.kind]=a.value):(a.object=this.createObject(this.OBJECT),a.properties=Object.create(null)),b.properties[d])c?(a.n=d+1,this.stateStack.unshift({node:b.properties[d].value})):(a.kind=b.properties[d].kind,this.stateStack.unshift({node:b.properties[d].key,components:!0})),a.valueToggle=!c;else{for(var e in a.properties)b=a.properties[e],"get"in b||"set"in b?(b={configurable:!0,enumerable:!0,get:b.get,set:b.set},this.setProperty(a.object,e,null,b)):this.setProperty(a.object,e,b.init);this.stateStack.shift(),this.stateStack[0].value=a.object}},Interpreter.prototype.stepProgram=Interpreter.prototype.stepBlockStatement,Interpreter.prototype.stepReturnStatement=function(){var a=this.stateStack[0],b=a.node;if(b.argument&&!a.done)a.done=!0,this.stateStack.unshift({node:b.argument});else{b=a.value||this.UNDEFINED;do{if(this.stateStack.shift(),0==this.stateStack.length)throw SyntaxError("Illegal return statement");a=this.stateStack[0]}while("CallExpression"!=a.node.type&&"NewExpression"!=a.node.type);a.value=b}},Interpreter.prototype.stepSequenceExpression=function(){var a=this.stateStack[0],b=a.node,c=a.n||0;b.expressions[c]?(a.n=c+1,this.stateStack.unshift({node:b.expressions[c]})):(this.stateStack.shift(),this.stateStack[0].value=a.value)},Interpreter.prototype.stepSwitchStatement=function(){var a=this.stateStack[0];if(a.checked=a.checked||[],a.isSwitch=!0,a.test){a.switchValue||(a.switchValue=a.value);var b=a.index||0,c=a.node.cases[b];if(c)if(a.done||a.checked[b]||!c.test){if(a.done||!c.test||0==this.comp(a.value,a.switchValue)){a.done=!0;var d=a.n||0;if(c.consequent[d])return this.stateStack.unshift({node:c.consequent[d]}),void(a.n=d+1)}a.n=0,a.index=b+1}else a.checked[b]=!0,this.stateStack.unshift({node:c.test});else this.stateStack.shift()}else a.test=!0,this.stateStack.unshift({node:a.node.discriminant})},Interpreter.prototype.stepThisExpression=function(){this.stateStack.shift();for(var a=0;a<this.stateStack.length;a++)if(this.stateStack[a].thisExpression)return void(this.stateStack[0].value=this.stateStack[a].thisExpression);throw Error("No this expression found.")},Interpreter.prototype.stepThrowStatement=function(){var a=this.stateStack[0],b=a.node;a.argument?this.throwException(a.value):(a.argument=!0,this.stateStack.unshift({node:b.argument}))},Interpreter.prototype.stepTryStatement=function(){var a=this.stateStack[0],b=a.node;a.doneBlock?a.throwValue&&!a.doneHandler&&b.handler?(a.doneHandler=!0,this.stateStack.unshift({node:b.handler,throwValue:a.throwValue}),a.throwValue=null):!a.doneFinalizer&&b.finalizer?(a.doneFinalizer=!0,this.stateStack.unshift({node:b.finalizer})):a.throwValue?this.executeException(a.throwValue):this.stateStack.shift():(a.doneBlock=!0,this.stateStack.unshift({node:b.block}))},Interpreter.prototype.stepUnaryExpression=function(){var a=this.stateStack[0],b=a.node;if(a.done){if(this.stateStack.shift(),"-"==b.operator)b=-a.value.toNumber();else if("+"==b.operator)b=a.value.toNumber();else if("!"==b.operator)b=!a.value.toBoolean();else if("~"==b.operator)b=~a.value.toNumber();else if("delete"==b.operator||"typeof"==b.operator){if(a.value.length)var c=a.value[0],a=a.value[1];else c=this.getScope(),a=a.value;b="delete"==b.operator?this.deleteProperty(c,a):this.getProperty(c,a).type}else{if("void"!=b.operator)throw SyntaxError("Unknown unary operator: "+b.operator);b=void 0}this.stateStack[0].value=this.createPrimitive(b)}else a.done=!0,c={node:b.argument},"delete"!=b.operator&&"typeof"!=b.operator||(c.components=!0),this.stateStack.unshift(c)},Interpreter.prototype.stepUpdateExpression=function(){var a=this.stateStack[0],b=a.node;if(a.doneLeft){if(a.leftSide||(a.leftSide=a.value),a.doneGetter_&&(a.leftValue=a.value),!a.doneGetter_){if(a.leftValue=this.getValue(a.leftSide),!a.leftValue)return;if(a.leftValue.isGetter)return a.leftValue.isGetter=!1,a.doneGetter_=!0,void this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.leftSide[0],func_:a.leftValue,doneArgs_:!0,arguments:[]})}if(a.doneSetter_)this.stateStack.shift(),this.stateStack[0].value=a.doneSetter_;else{var c,d=a.leftValue.toNumber();if("++"==b.operator)c=this.createPrimitive(d+1);else{if("--"!=b.operator)throw SyntaxError("Unknown update expression: "+b.operator);c=this.createPrimitive(d-1)}b=b.prefix?c:this.createPrimitive(d),(d=this.setValue(a.leftSide,c))?(a.doneSetter_=b,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.leftSide[0],func_:d,doneArgs_:!0,arguments:[c]})):(this.stateStack.shift(),this.stateStack[0].value=b)}}else a.doneLeft=!0,this.stateStack.unshift({node:b.argument,components:!0})},Interpreter.prototype.stepVariableDeclaration=function(){var a=this.stateStack[0],b=a.node,c=a.n||0;b.declarations[c]?(a.n=c+1,this.stateStack.unshift({node:b.declarations[c]})):this.stateStack.shift()},Interpreter.prototype.stepVariableDeclarator=function(){var a=this.stateStack[0],b=a.node;b.init&&!a.done?(a.done=!0,this.stateStack.unshift({node:b.init})):(b.init&&this.setValue(this.createPrimitive(b.id.name),a.value),this.stateStack.shift())},Interpreter.prototype.stepWithStatement=function(){var a=this.stateStack[0],b=a.node;a.doneObject?a.doneBody?this.stateStack.shift():(a.doneBody=!0,a=this.createSpecialScope(this.getScope(),a.value),this.stateStack.unshift({node:b.body,scope:a})):(a.doneObject=!0,this.stateStack.unshift({node:b.object}))},Interpreter.prototype.stepWhileStatement=Interpreter.prototype.stepDoWhileStatement,this.Interpreter=Interpreter,Interpreter.prototype.appendCode=Interpreter.prototype.appendCode,Interpreter.prototype.createAsyncFunction=Interpreter.prototype.createAsyncFunction,Interpreter.prototype.step=Interpreter.prototype.step,Interpreter.prototype.run=Interpreter.prototype.run;var soundCode={sdw:[["斑马","B1103001"],["豹子","B1103002"],["大象","B1103003"],["公鸡","B1103004"],["狗 ","B1103005"],["猴子","B1103006"],["老虎","B1103007"],["鹿  ","B1103008"],["驴子","B1103009"],["猫  ","B110300A"],["绵羊","B110300B"],["奶牛","B110300C"],["企鹅","B110300D"],["狮子","B110300E"],["熊猫","B1104001"],["猪  ","B1104002"],["鸭子","B1104003"],["母鸡下蛋","B1104004"],["鸟叫","B1104005"],["鹰","B1104006"],["青蛙","B1104007"],["马","B1104008"],["恐龙","B1104009"]],syin:[["低音1","B1105001"],["低音2","B1105002"],["低音3","B1105003"],["低音4","B1105004"],["低音5","B1105005"],["低音6","B1105006"],["低音7","B1105007"],["中音1","B1106001"],["中音2","B1106002"],["中音3","B1106003"],["中音4","B1106004"],["中音5","B1106005"],["中音6","B1106006"],["中音7","B1106007"],["高音1","B1107001"],["高音2","B1107002"],["高音3","B1107003"],["高音4","B1107004"],["高音5","B1107005"],["高音6","B1107006"],["高音7","B1107007"]],sdh:[["小猪佩奇","B1101001"],["多啦A梦","B1101002"],["奥特曼","B1101003"],["美国队长","B1101004"],["超人","B1101005"],["秦时明月","B1101006"],["大圣归来","B1101007"],["白雪公主","B1101008"],["冰雪奇缘","B1101009"],["火影忍者","B110100A"],["喜洋洋","B110100B"],["小马宝莉","B110100C"],["熊出没","B110100D"],["粉刷匠","B1115004"],["世上只有妈妈好","B1115006"],["两只老虎","B1115005"],["ABC字母歌","B1115001"],["生日歌","B1115002"],["圣诞歌","B1115003"],["国歌","B1115007"],["钢琴曲致爱丽丝","B1115008"],["小跳蛙","B110200A"],["小星星","B110200B"],["我是一条小青龙","B110200C"],["小老鼠上灯台","B110200D"],["一只哈巴狗","B110200E"],["你笑起来真好看","B110200F"],["大风车","B1102010"],["洋娃娃和小熊跳舞","B1102011"]],sjtt:[["警车","B1116001"],["消防车","B1116002"],["救护车","B1116003"],["车辆行驶","B1116004"],["按喇叭","B1116005"],["火车","B1116006"],["游轮","B1116007"],["飞机","B1116008"],["拖拉机","B1116009"],["摩托车","B111600A"],["注意车辆","B111600B"]],ssh:[["叮咚门铃声","B1117001"],["闹钟声","B1117002"],["电梯","B1117003"],["掌声","B1117004"],["欢迎光临","B1117005"],["搅拌声","B1117006"]],syx:[["CS","B1102001"],["QQ飞车","B1102002"],["第五人格","B1102003"],["绝地求生","B1102004"],["王者荣耀  ","B1102005"],["消消乐","B1102006"],["英雄联盟","B1102007"]]},imgCode={ssg:[["草莓","C101000F"],["桂圆","C101001F"],["橙子","C101002F"],["梨","C101003F"],["柠檬","C101004F"],["苹果","C101005F"],["葡萄","C101006F"],["西瓜","C101007F"],["香蕉","C101008F"],["樱桃","C101009F"]],sjt:[["跑车","C102009F"],["坦克","C10200AF"],["挖掘机","C10200BF"],["邮轮","C10200CF"],["直升飞机","C10200DF"],["吊车","C102000F"],["帆船","C102001F"],["飞机","C102002F"],["公交车","C102003F"],["滑板车","C102004F"],["火车","C102005F"],["货车","C102006F"],["轿车","C102007F"],["救护车","C102008F"]],sbq:[["爱心天使","C106000F"],["扎心","C106001F"],["惊讶","C106002F"],["礼物","C106003F"],["狂欢","C106004F"],["愤怒","C106005F"],["天使","C106006F"],["大便","C106007F"],["老头","C106008F"],["微笑","C106009F"],["奔跑","C10600AF"],["大白","C10600BF"],["搞怪","C103000F"],["害羞","C103001F"],["坏笑","C103002F"],["发呆","C103003F"],["受伤","C103004F"],["紧张","C103005F"],["开心","C103006F"],["叹号","C10600CF"],["加号","C10600DF"],["减号","C10600EF"],["左","C10600FF"],["右","C106010F"],["上","C106011F"],["下","C106012F"]],sfz:[["体恤","C10400AF"],["袜子","C10400BF"],["polo衫","C104000F"],["背心","C104001F"],["衬衣","C104002F"],["大衣","C104003F"],["短裤","C104004F"],["裤子","C104005F"],["礼服","C104006F"],["连帽衫","C104007F"],["连衣裙","C104008F"],["领带","C104009F"]],ssw:[["蛋糕","C105000F"],["胡萝卜","C105001F"],["花椰菜","C105002F"],["鸡腿","C105003F"],["面包","C105004F"],["南瓜","C105005F"],["披萨","C105006F"],["鱼","C105007F"]],snum:[["A","C108000F"],["B","C108001F"],["C","C108002F"],["D","C108003F"],["E","C108004F"],["F","C108005F"],["G","C108006F"],["H","C108007F"],["I","C108008F"],["J","C108009F"],["k","C10800AF"],["L","C10800BF"],["M","C10800CF"],["N","C10800DF"],["o","C109000F"],["p","C109001F"],["Q","C109002F"],["R","C109003F"],["S","C109004F"],["T","C109005F"],["U","C109006F"],["V","C109007F"],["w","C109008F"],["X","C109009F"],["Y","C10900AF"],["Z","C10900BF"]],words:[["bike","C10B001F"],["bus","C10B002F"],["car","C10B003F"],["plane","C10B004F"],["ship","C10B005F"],["train","C10B006F"],["truck","C10B007F"],["barber","C10C001F"],["boy","C10C002F"],["daddy","C10C003F"],["dancer","C10C004F"],["doctor","C10C005F"],["driver","C10C006F"],["girl","C10C007F"],["mummy","C10C008F"],["nurse","C10C009F"],["pupil","C10C00AF"],["singer","C10C00BF"],["teacher","C10C00CF"],["bear","C10D001F"],["cat","C10D002F"],["cock","C10D003F"],["dog","C10D004F"],["duck","C10D005F"],["hen","C10D006F"],["rabbit","C10D007F"],["tiger","C10D008F"],["black","C10E001F"],["blue","C10E002F"],["brown","C10E003F"],["green","C10E004F"],["pink","C10E005F"],["red","C10E006F"],["white","C10E007F"],["yellow","C10E008F"],["bed","C10F001F"],["bookcase","C10F002F"],["cabinet","C10F003F"],["chair","C10F004F"],["desk","C10F005F"],["sofa","C10F006F"],["stool","C10F007F"],["table","C10F008F"]],sdigit:[["0","C107000F"],["1","C107001F"],["2","C107002F"],["3","C107003F"],["4","C107004F"],["5","C107005F"],["6","C107006F"],["7","C107007F"],["8","C107008F"],["9","C107009F"],["10","C10700AF"],["11","C10700BF"],["12","C10700CF"],["13","C10700DF"],["14","C10700EF"],["15","C10700FF"],["16","C107010F"],["17","C107011F"],["18","C107012F"],["19","C107013F"],["20","C107014F"]],hans:[["一","C10A001F"],["二","C10A002F"],["三","C10A003F"],["四","C10A004F"],["五","C10A005F"],["六","C10A006F"],["七","C10A007F"],["八","C10A008F"],["九","C10A009F"],["十","C10A00AF"],["木","C10A00BF"],["禾","C10A00CF"],["上","C10A00DF"],["下","C10A00EF"],["土","C10A00FF"],["个","C10A010F"],["入","C10A011F"],["大","C10A012F"],["天","C10A013F"],["人","C10A014F"],["火","C10A015F"],["文","C10A016F"],["儿","C10A017F"],["无","C10A018F"],["口","C10A019F"],["日","C10A01AF"],["中","C10A01BF"],["了","C10A01CF"],["子","C10A01DF"],["门","C10A01EF"],["月","C10A01FF"],["不","C10A020F"],["开","C10A021F"],["目","C10A022F"],["耳","C10A023F"],["头","C10A024F"],["米","C10A025F"],["见","C10A026F"],["白","C10A027F"],["田","C10A028F"],["电","C10A029F"],["也","C10A02AF"],["长","C10A02BF"],["山","C10A02CF"],["出","C10A02DF"],["飞","C10A02EF"],["马","C10A02FF"],["鸟","C10A030F"],["云","C10A031F"],["公","C10A032F"],["车","C10A033F"],["牛","C10A034F"],["羊","C10A035F"],["小","C10A036F"],["少","C10A037F"],["巾","C10A038F"],["牙","C10A039F"],["尺","C10A03AF"],["毛","C10A03BF"],["卜","C10A03CF"],["又","C10A03DF"],["心","C10A03EF"],["风","C10A03FF"],["力","C10A040F"],["手","C10A041F"],["水","C10A042F"],["广","C10A043F"],["升","C10A044F"],["足","C10A045F"],["走","C10A046F"],["方","C10A047F"],["半","C10A048F"],["巴","C10A049F"],["业","C10A04AF"],["本","C10A04BF"],["平","C10A04CF"],["书","C10A04DF"],["自","C10A04EF"],["已","C10A04FF"],["东","C10A050F"],["西","C10A051F"],["回","C10A052F"],["片","C10A053F"],["皮","C10A054F"],["生","C10A055F"],["里","C10A056F"],["果","C10A057F"],["几","C10A058F"],["用","C10A059F"],["鱼","C10A05AF"],["今","C10A05BF"],["正","C10A05CF"],["雨","C10A05DF"],["两","C10A05EF"],["瓜","C10A05FF"],["衣","C10A060F"],["来","C10A061F"],["年","C10A062F"],["左","C10A063F"],["右","C10A064F"]]},mute=[["0",""]];Blockly.defineBlocksWithJsonArray([{type:"dengg1",message0:"%1 颜色 %2 %3时间 %4秒",args0:[{type:"field_image",src:"./img/deng.png",width:30,height:30},{type:"field_colour",name:"C",colour:"#ffffff"},{type:"field_image",src:"./img/time.png",width:31,height:30},{type:"field_dropdown",name:"T",otherOptions:"selectCount",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]]}],previousStatement:null,nextStatement:null,colour:"#FFA800"},{type:"dengg2",message0:"%1 颜色 %2",args0:[{type:"field_image",src:"./img/deng.png",width:30,height:30},{type:"field_colour",name:"C",colour:"#FFFFFF"}],previousStatement:null,nextStatement:null,colour:"#FFA800"},{type:"dengg3",message0:"%1 熄灭",args0:[{type:"field_image",src:"./img/deng1.png",width:30,height:30}],previousStatement:null,nextStatement:null,colour:"#FFA800"}]),Blockly.defineBlocksWithJsonArray([{type:"shengy1",message0:"%1 声音 %2音量 %3",args0:[{type:"field_image",src:"./img/music.png",width:30,height:30},{type:"field_dropdown",name:"M",otherOptions:"selectMusic",options:concatJSON(soundCode)},{type:"field_dropdown",name:"S",otherOptions:"selectCount",options:[["小","1"],["中","2"],["大","3"]]}],previousStatement:null,nextStatement:null,colour:"#9253E8"},{type:"shengy2",message0:"%1 停止",args0:[{type:"field_image",src:"./img/music.png",width:30,height:30}],previousStatement:null,nextStatement:null,colour:"#9253E8"}]),Blockly.defineBlocksWithJsonArray([{type:"img1",message0:"%1 图片 %2 时间 %3秒",args0:[{type:"field_image",src:"./img/img.png",width:30,height:30},{type:"field_dropdown",name:"P",otherOptions:"selectImg",options:concatJSON(imgCode)},{type:"field_dropdown",name:"T",otherOptions:"selectCount",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]]}],previousStatement:null,nextStatement:null,colour:"#16C141"},{type:"img2",message0:"%1 图片 %2",args0:[{type:"field_image",src:"./img/img.png",width:30,height:30},{type:"field_dropdown",name:"P",otherOptions:"selectImg",options:concatJSON(imgCode)}],previousStatement:null,nextStatement:null,colour:"#16C141"},{type:"img3",message0:"%1 熄灭",args0:[{type:"field_image",src:"./img/img.png",width:30,height:30}],previousStatement:null,nextStatement:null,colour:"#16C141"}]),Blockly.defineBlocksWithJsonArray([{type:"machineA1",message0:"%1 方向 %2 速度 %3 时间 %4秒",args0:[{type:"field_image",src:"./img/a.png",width:30,height:30},{type:"field_dropdown",name:"D",options:[["↻","0"],["↺","1"]]},{type:"field_dropdown",name:"S",otherOptions:"selectCount",options:[["低","1"],["中","2"],["高","3"]]},{type:"field_dropdown",name:"T",otherOptions:"selectCount",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]]}],previousStatement:null,nextStatement:null,colour:"#3CA6EB"},{type:"machineA2",message0:"%1 方向 %2 速度 %3",args0:[{type:"field_image",src:"./img/a.png",width:30,height:30},{type:"field_dropdown",name:"D",options:[["↻","0"],["↺","1"]]},{type:"field_dropdown",name:"S",otherOptions:"selectCount",options:[["低","1"],["中","2"],["高","3"]]}],previousStatement:null,nextStatement:null,colour:"#3CA6EB"},{type:"machineA3",message0:"%1 停止",args0:[{type:"field_image",src:"./img/a.png",width:30,height:30}],previousStatement:null,nextStatement:null,colour:"#3CA6EB"}]),Blockly.defineBlocksWithJsonArray([{type:"machineB1",message0:"%1 方向 %2 速度 %3 时间 %4秒",args0:[{type:"field_image",src:"./img/b.png",width:30,height:30},{type:"field_dropdown",name:"D",options:[["↻","0"],["↺","1"]]},{type:"field_dropdown",name:"S",otherOptions:"selectCount",options:[["低","1"],["中","2"],["高","3"]]},{type:"field_dropdown",name:"T",otherOptions:"selectCount",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]]}],previousStatement:null,nextStatement:null,colour:"#00D4E1"},{type:"machineB2",message0:"%1 方向 %2 速度 %3",args0:[{type:"field_image",src:"./img/b.png",width:30,height:30},{type:"field_dropdown",name:"D",options:[["↻","0"],["↺","1"]]},{type:"field_dropdown",name:"S",otherOptions:"selectCount",options:[["低","1"],["中","2"],["高","3"]]}],previousStatement:null,nextStatement:null,colour:"#00D4E1"},{type:"machineB3",message0:"%1 停止",args0:[{type:"field_image",src:"./img/b.png",width:30,height:30}],previousStatement:null,nextStatement:null,colour:"#00D4E1"},{type:"machineAB",message0:"%1 %2停止",args0:[{type:"field_image",src:"./img/a.png",width:30,height:30},{type:"field_image",src:"./img/b.png",width:30,height:30}],previousStatement:null,nextStatement:null,colour:"#16C141"}]),Blockly.defineBlocksWithJsonArray([{type:"action0",message0:"%1当开始被点击",args0:[{type:"field_image",src:"./img/block.png",width:1,height:30}],nextStatement:null,colour:"#C44B98",undelete:!0}]),Blockly.defineBlocksWithJsonArray([{type:"control1",message0:"%1等待 %2 秒",args0:[{type:"field_image",src:"./img/block.png",width:1,height:30},{type:"field_dropdown",name:"T",otherOptions:"selectCount",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]]}],previousStatement:null,nextStatement:null,colour:"#E8504D"},{type:"controls_repeat_ext",message0:"%2重复执行%1次",args0:[{type:"field_dropdown",name:"TIMES",otherOptions:"selectCount",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]]},{type:"field_image",src:"./img/block.png",width:1,height:30}],message1:"%2 %1",args1:[{type:"input_statement",name:"DO"},{type:"field_image",src:"./img/block.png",width:1,height:30}],previousStatement:null,nextStatement:null,colour:"#E8504D"}]),Blockly.JavaScript.action0=function(a){return";start();"},Blockly.JavaScript.math_number=function(a){return a.getFieldValue("NUM")},Blockly.JavaScript.controls_repeat=function(a){var b=Blockly.JavaScript.statementToCode(a,"DO");return"while (true) {\n"+(b=Blockly.JavaScript.addLoopTrap(b,a.id))+";waitForSeconds(.2)}\n"},Blockly.JavaScript.controls_repeat_ext=function(a){if(a.getField("TIMES"))var b=String(Number(a.getFieldValue("TIMES")));else var b=Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";var c=Blockly.JavaScript.statementToCode(a,"DO");c=Blockly.JavaScript.addLoopTrap(c,a.id);var d="",e=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),f=b;if(!b.match(/^\w+$/)&&!Blockly.isNumber(b)){var f=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE);d+="var "+f+" = "+b+";\n"}return d+="for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+c+";waitForSeconds(.2)}\n"};var dcolor={E1FFFFFF:"E1FFFFFF",E1FF0000:"E1FF0000",E1FFFF00:"E1FFFF00",E100FF00:"E100FF00",E10000FF:"E10000FF",E1A51DC0:"E1FF00FF",E1FF491C:"E1FF3200",E1FF99AC:"E1FF3C82",E158C0FF:"E100FFFF",E184FF84:"E132FF28",E19292FF:"E19696FF",E139A0FF:"E10078FF",E1A4FF23:"E196FF00",E1B04B2D:"E1FF5014",E1B844D2:"E1FF3CA0",E1EB2269:"E1FF001E",E1FF9282:"E1460000",E1FFFF82:"E1AAB400",E126C4B8:"E100FF32",E1FF9E2D:"E1FF5500"};Blockly.JavaScript.dengg1=function(a){var b=a.getFieldValue("C").replace("#","E1");return'waitForSeconds(.2);action("'+dcolor[b.toUpperCase()]+'");waitForSeconds('+Number(a.getFieldValue("T"))+');action("E1000000");'},Blockly.JavaScript.dengg2=function(a){var b=a.getFieldValue("C").replace("#","E1");return';waitForSeconds(.2);action("'+dcolor[b.toUpperCase()]+'");'},Blockly.JavaScript.dengg3=function(a){return';waitForSeconds(.2);action("E1000000");'},Blockly.JavaScript.shengy1=function(a){var b=a.getFieldValue("M"),c=a.getFieldValue("S");return';waitForSeconds(.2);action("'+(c=["","B1214FFF","B1219FFF","B121EFFF"][c])+'");waitForSeconds(.2);action("'+b+'");'},Blockly.JavaScript.shengy2=function(a){return';waitForSeconds(.2);action("B13FFFFF");'},Blockly.JavaScript.machineC=function(a){return';waitForSeconds(.2);action("M'+a.getFieldValue("D")+a.getFieldValue("S")+'FFFFF");'},Blockly.JavaScript.img1=function(a){return';waitForSeconds(.2);action("'+a.getFieldValue("P")+'");waitForSeconds('+Number(a.getFieldValue("T"))+');action("C1FFFFFF");'},Blockly.JavaScript.img2=function(a){return';waitForSeconds(.2);action("'+a.getFieldValue("P")+'");'},Blockly.JavaScript.img3=function(a){return';waitForSeconds(.2);action("C1FFFFFF");'};var machineAcode=[["F10196FF","F101C8FF","F101FEFF"],["F10296FF","F102C8FF","F102FEFF"]];Blockly.JavaScript.machineA1=function(a){var b=Number(a.getFieldValue("D")),c=Number(a.getFieldValue("S")),d=Number(a.getFieldValue("T"));return';waitForSeconds(.2);action("'+machineAcode[b][c-1]+'");waitForSeconds('+d+');action("F103FFFF");'},Blockly.JavaScript.machineA2=function(a){var b=Number(a.getFieldValue("D")),c=Number(a.getFieldValue("S"));return';waitForSeconds(.2);action("'+machineAcode[b][c-1]+'");'},Blockly.JavaScript.machineA3=function(a){return';waitForSeconds(.2);action("F103FFFF");'};var machineBcode=[["G10196FF","G101C8FF","G101FEFF"],["G10296FF","G102C8FF","G102FEFF"]];Blockly.JavaScript.machineB1=function(a){var b=Number(a.getFieldValue("D")),c=Number(a.getFieldValue("S")),d=Number(a.getFieldValue("T"));return';waitForSeconds(.2);action("'+machineBcode[b][c-1]+'");waitForSeconds('+d+');action("G103FFFF");'},Blockly.JavaScript.machineB2=function(a){var b=Number(a.getFieldValue("D")),c=Number(a.getFieldValue("S"));return';waitForSeconds(.2);action("'+machineBcode[b][c-1]+'");'},Blockly.JavaScript.machineB3=function(a){return';waitForSeconds(.2);action("G103FFFF");'},Blockly.JavaScript.machineAB=function(a){return';waitForSeconds(.2);action("A2FFFFFF");'},Blockly.JavaScript.control1=function(a){return";waitForSeconds("+Number(a.getFieldValue("T"))+");"},window.Tool={selectColor:function(a){window.Tool.select(a,"selectColor")},selectImg:function(a){window.Tool.select(a,"selectImg")},selectMusic:function(a){window.Tool.select(a,"selectMusic")},selectCount:function(a,b,c){window.Tool.select(a,"selectCount",b,c)},select:function(a,b,c,d){var e="iframcallback_"+(new Date).getTime();if("selectCount"==b)return void countSelectInit({init:c.getValue(),cb:a,x:d.x,y:d.y,value:c.getOptions()});window[e]=function(b){a(b),window[e]=void 0},window[b].visible=!0,window[b].callback=window[e]},play:function(a){sendNative({action:a,params:"{}",callback:function(){}})}},window.action=function(a){console.log(a),sendNative({action:"send",params:JSON.stringify({code:a}),callback:"openBlue"})};var globalObj={};window.setGlobal=function(a){var b=a.split("-");globalObj[b[0]]="false"!=b[2]&&b[2],sendNative({action:"sendBack",params:JSON.stringify({code:b[1]}),callback:function(a){if(console.log("机器返回数据",a),"logic"==b[0])globalObj[b[0]]="ZH020FFFFW"!=a.toLocaleUpperCase();else if("logic1"==b[0]){var c=a.toLocaleUpperCase().replace("ZH01","").replace("FFW",""),d=parseInt(256*c.charAt(0))+parseInt(16*c.charAt(1))+parseInt(c.charAt(2));globalObj[b[0]]=d<100}else if("logic2"==b[0]){var c=a.toLocaleUpperCase().replace("ZH03","").replace("FFFW",""),d=parseInt(16*c.charAt(0))+parseInt(c.charAt(1));globalObj[b[0]]=d}else if("logic3"==b[0]){var c=a.toLocaleUpperCase().replace("ZH04","").replace("FFW",""),d=parseInt(256*c.charAt(0))+parseInt(16*c.charAt(1))+parseInt(c.charAt(2));globalObj[b[0]]=parseInt(d/100)}else if("logic4"==b[0]){var c=a.toLocaleUpperCase().replace("ZH04","").replace("FFW",""),d=parseInt(256*c.charAt(0))+parseInt(16*c.charAt(1))+parseInt(c.charAt(2));globalObj[b[0]]=d>500}}})},window.getGlobal=function(a){return globalObj[a]},window.playMusic=function(){sendNative({action:"active",params:"{}",callback:function(){}})},window.openBlue=function(){resetInterpreter(1),window.blueTooth.visible=!0},window.stopAction=function(){resetInterpreter(1)},window.screenRotate=function(a){window.deviceInfo=a,setLeftRight()},window.setLeftRight=function(){"deviceInfo"in window&&"iPhoneX"==window.deviceInfo.name&&("left"==window.deviceInfo.direction?$(".blocklyToolboxDiv").addClass("leftlh"):$(".blocklyToolboxDiv").removeClass("leftlh"))};var a="pc";/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?a="ios":/(Android)/i.test(navigator.userAgent)&&(a="android"),window.exitDialog=new Vue({el:"#isExit",data:{visible:!1},methods:{ok:function(){window.goback(),this.visible=!1},show:function(){this.visible=!0}}}),window.selectProject=new Vue({el:"#projectSelect",data:{visible:!1,ready:!1,visibleDelete:!1,projectlist:[],willDeleteName:""},computed:{},watch:{visible:function(a,b){if(a){var c=this;setTimeout(function(){c.ready=!0},500)}else this.ready=!1}},mounted:function(){this.init()},created:function(){},components:{},methods:{init:function(){this.projectList=JSON.parse(localStorage.getItem("projectList")||"[]"),console.log(this.projectList)},close:function(){this.ready&&(this.visible=!1)},show:function(){this.init(),this.visible=!0},select:function(a){var b=this.projectList.filter(function(b){return b.name==a})[0].txt,c=Blockly.Xml.textToDom(b);demoWorkspace.clear(),Blockly.Xml.domToWorkspace(c,demoWorkspace),this.close(),playMusic()},showDelete:function(a){this.willDeleteName=a,this.visibleDelete=!0},deleteProject:function(){var a=this.willDeleteName,b=this.projectList.filter(function(b){return b.name!=a});this.visibleDelete=!1,window.localStorage.setItem("projectList",JSON.stringify(b)),saveProject.init(),this.init()}}}),window.selectColor=new Vue({el:"#colorSelect",data:{visible:!1,callback:"",ready:!1,list:["E1FFFFFF","E1FF0000","E1FFFF00","E100FF00","E10000FF","E1A51DC0","E1FF491C","E1FF99AC","E158C0FF","E184FF84","E19292FF","E139A0FF","E1A4FF23","E1B04B2D","E1B844D2","E1EB2269","E1FF9282","E1FFFF82","E126C4B8","E1FF9E2D"]},computed:{},watch:{select:function(a,b){var c=this;this.$nextTick(function(){c.$refs.right.scrollTop=0})},visible:function(a,b){if(a){var c=this;setTimeout(function(){c.ready=!0},500)}else this.ready=!1}},mounted:function(){},created:function(){},components:{},methods:{close:function(){this.ready&&(this.visible=!1)},selectColor:function(a){playMusic(),this.callback("#"+a.replace("E1","")),this.close()}}}),window.selectImg=new Vue({el:"#imgSelect",data:{callback:"",list:[{type:"ssg",num:10},{type:"sjt",num:14},{type:"sbq",num:26},{type:"sfz",num:12},{type:"ssw",num:8},{type:"snum",num:26},{type:"words",num:imgCode.words.map(function(a){return a[0]})},{type:"sdigit",num:21},{type:"hans",num:imgCode.hans.map(function(a){return a[0]})}],select:0,active:0,
classIcon:["smenu7","smenu5","smenu3","smenu8","smenu1","smenu2","smenu13","smenu11","smenu12"],visible:!1,ready:!1,codeList:Object.assign({},imgCode)},computed:{},watch:{select:function(a,b){var c=this;this.$nextTick(function(){c.$refs.right.scrollTop=0})},visible:function(a,b){if(a){var c=this;setTimeout(function(){c.ready=!0},500)}else this.ready=!1}},mounted:function(){},created:function(){},components:{},methods:{selectImg:function(a){playMusic(),this.callback(a),this.close()},selectItem:function(a){playMusic(),this.select=a,this.active=0},close:function(){this.ready&&(this.visible=!1)}}}),window.selectMusic=new Vue({el:"#musicSelect",data:{list:[{type:"sdw",num:23},{type:"syin",num:21},{type:"sdh",num:29},{type:"syx",num:7},{type:"sjtt",num:11},{type:"ssh",num:6}],select:0,active:0,classIcon:["smenu4","smenu9","smenu6","smenu15","smenu10","smenu14"],visible:!1,callback:"",ready:!1,codeList:Object.assign({},soundCode)},computed:{},watch:{select:function(a,b){var c=this;this.$nextTick(function(){c.$refs.right.scrollTop=0})},visible:function(a,b){if(a){var c=this;setTimeout(function(){c.ready=!0},500)}else this.ready=!1}},mounted:function(){},created:function(){},components:{},methods:{selectMusic:function(a){playMusic(),this.callback(a),this.close()},selectItem:function(a){playMusic(),this.select=a,this.active=0},close:function(){this.ready&&(this.visible=!1)}}}),window.blueTooth=new Vue({el:"#openBlue",data:{list:[],scanError:!1,ready:!1,visible:!1},computed:{},watch:{visible:function(a,b){if(1==a){this.list=[],this.scan();var c=this;setTimeout(function(){c.ready=!0},500)}else this.ready=!1}},mounted:function(){},created:function(){},beforeDestroy:function(){},components:{},methods:{scan:function(){this.scanError=!1;var a=this;sendNative({action:"bluetooth",params:"{}",callback:function(b){b.length<=0?a.scanError=!0:a.scanError=!1,a.list=a.list.concat(b)}})},unlink:function(){this.list.map(function(a){return a.status=0}),playMusic(),sendNative({action:"unlink",params:"{}",callback:""})},link:function(a,b,c){if(1==a)return void this.unlink();this.list.map(function(a){return a.status=0}),playMusic();var d=this;sendNative({action:"link",params:JSON.stringify({peripheralID:b+""}),callback:function(a){d.list[c].status=a,d.list=d.list.slice(0),setTimeout(function(){d.close()},2e3)}})},close:function(){this.ready&&(this.visible=!1)}}}),window.saveProject=new Vue({el:"#saveProject",data:{ready:!1,visible:!1,name:"",msg:"",projectList:[]},computed:{},watch:{visible:function(a,b){if(1==a){var c=this;setTimeout(function(){c.ready=!0},500)}else this.ready=!1}},mounted:function(){this.init()},created:function(){},beforeDestroy:function(){},components:{},methods:{init:function(){this.projectList=JSON.parse(localStorage.getItem("projectList")||"[]")},show:function(a){this.visible=!0},goScroll:function(){window.scrollTo(0,0)},submit:function(){if(""==this.name)return this.msg="请输入项目名称",!1;var a=this;if(this.projectList.filter(function(b){return b.name==a.name}).length>0)return this.msg="项目名称已存在",!1;var b=Blockly.Xml.workspaceToDom(demoWorkspace);this.projectList.push({name:this.name,txt:Blockly.Xml.domToText(b)}),this.projectList.length>10&&this.projectList.shift(),console.log(this.projectList),window.localStorage.setItem("projectList",JSON.stringify(this.projectList)),this.visible=!1},close:function(){this.ready&&(this.name="",this.visible=!1)}}}),window.safeTips=new Vue({el:"#safeTips",data:{ready:!1,visible:!1,type:0,src:["./img/dialogm.png","./img/dialogmax.png","./img/dialogmute.png"]},computed:{},watch:{visible:function(a,b){if(1==a){var c=this;setTimeout(function(){c.ready=!0},500)}else this.ready=!1}},mounted:function(){},created:function(){},beforeDestroy:function(){},components:{},methods:{show:function(a){this.type=a,this.visible=!0},submit:function(){runCode(),this.visible=!1},close:function(){this.ready&&(this.visible=!1)}}}),document.addEventListener("touchstart",function(){},!1);var blocklyArea=document.getElementById("blocklyArea"),blocklyDiv=document.getElementById("blocklyDiv"),demoWorkspace=Blockly.inject(blocklyDiv,{media:"./media/",toolbox:document.getElementById("toolbox"),comments:!1,zoom:{controls:!1,wheel:!1,startScale:1,maxScale:3,minScale:.5,scaleSpeed:1.1},trashcan:!1});console.log(demoWorkspace),console.log(Blockly);var onresize=function(a){var b=blocklyArea,c=0,d=0;do{c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent}while(b);blocklyDiv.style.left=c+"px",blocklyDiv.style.top=d+"px",blocklyDiv.style.width=blocklyArea.offsetWidth+"px",blocklyDiv.style.height=blocklyArea.offsetHeight+"px",Blockly.svgResize(demoWorkspace)};window.addEventListener("resize",onresize,!1),onresize(),setTimeout(function(){$(".blocklyTreeIcon").each(function(a,b){$(b).html("<i class='icon menu"+(a+1)+"'></i>")}),$(".blocklyToolboxDiv").on("click",".blocklyTreeIcon",function(){playMusic()}),$(".blocklyToolboxDiv").append("<div class='deleteBar'></div>"),setLeftRight(),Blockly.Xml.domToWorkspace(document.getElementById("startBlocks"),demoWorkspace)},0),Blockly.JavaScript.addReservedWords("exit");var runButton=document.getElementById("runButton"),myInterpreter=null,runner,latestCode="";generateCodeAndLoadIntoInterpreter(),$(function(){var a=$(".point"),b=$(".slider-over"),c=$(".circle"),d=document.querySelector("#countWrap"),e=(new Hammer(document.querySelector(".point")),new Hammer(document.querySelector("#countWrap"))),f=0,g=parseFloat(a.css("left")),h=[1,2,3,4,5],i=[1,2,3,4,5],j=-1!=window.location.search.indexOf("mobile")?"mobile":"pad",k=2*l/h.length,l=100,m=function(){};a[0].addEventListener("touchstart",function(a){f=a.touches[0].clientX}),a[0].addEventListener("mousedown",function(a){f=a.clientX}),e.on("pan",function(d){var e=d.center.x-f;if(e+=g,0!=f&&e>=.2*l&&e<=2.2*l){var i=parseInt((e-.2*l)/k)+1;i=i>h.length?h.length:i,c.html(h[i-1]).attr("index",i),a.css({left:e+"px"}),b.css({left:e+.3*l+"px"})}}),$("#countWrap").on("click",function(a){a.stopPropagation()}),d.addEventListener("touchend",function(){g=parseFloat(a.css("left")),f=0,m(i[parseInt(c.attr("index"))-1])}),d.addEventListener("mouseup",function(){f=0,g=parseFloat(a.css("left")),m(i[parseInt(c.attr("index"))-1])}),window.countSelectInit=function(d){l=100,setTimeout(function(){$("#countSelect").one("click",function(a){$(this).hide()})},300),"mobile"==j?($("#countSelect").show(),$("#countSelect").addClass("onMobile")):($("#countSelect").css({display:"block"}).show(),$("#countWrap").css({left:d.x+"px",top:d.y+"px"})),m=d.cb,h=d.value.map(function(a){return a[0]}),c.html(h[d.init-1]).attr("index",d.init),i=d.value.map(function(a){return a[1]}),k=2*l/h.length,g=(d.init-1)*k,a.css({left:g+.2*l+"px"}),b.css({left:g+.35*l+"px"})}});